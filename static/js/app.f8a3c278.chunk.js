(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b})),n.d(t,"useMessengerChannelSorted",(function(){return g})),n.d(t,"useMessengerChannelMutation",(function(){return h}));var r=n(3),a=n.n(r),o=n(21),l=n.n(o),c=n(7),i=n.n(c),u=n(0),s=n(54),d=n(62),f=n(123);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){var t=Object(s.useQueryClient)(),n=Object(f.default)().lastJsonMessage,r=Object(s.useQuery)("MessengerChannelList",(function(){var t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==e||null==(t=e.user)||!t.id){n.next=6;break}return n.next=3,i.a.awrap(Object(d.getMessengerChannelList)(e.user.id));case 3:n.t0=n.sent,n.next=7;break;case 6:n.t0=[];case 7:return n.abrupt("return",n.t0);case 8:case"end":return n.stop()}}),null,null,null,Promise)})).data;return Object(u.useEffect)((function(){if(null!=n&&("enter"==n.type&&t.setQueryData("MessengerChannelList",(function(e){return(null!=e&&e.find((function(e){return e.id==n.data.id}))?e:[n.data].concat(l()(e||[]))).sort((function(e,t){return e.id-t.id}))})),"next_message"==n.type)){var e=n.data;t.setQueryData("MessengerChannelList",(function(t){return(t||[]).map((function(t){var n;return t.id==e.channel?p(p({},t),{},{last_message:{content:null==(n=e.message_set[0])?void 0:n.content,created:e.created}}):t}))}))}}),[n]),r}function g(e){var t=b(e);return null==t?void 0:t.sort((function(e,t){var n,r;return((null==(n=e.last_message)?void 0:n.created)||"")<((null==(r=t.last_message)?void 0:r.created)||"")?1:-1}))}function h(){var e=Object(s.useQueryClient)(),t=Object(s.useMutation)(d.postChannel,{onSuccess:function(){return e.invalidateQueries("MessengerChannelList")}}),n=Object(s.useMutation)(d.putChannel,{onSuccess:function(){return e.invalidateQueries("MessengerChannelList")}}),r=Object(s.useMutation)(d.postDirectChannel,{onSuccess:function(){return e.invalidateQueries("MessengerChannelList")}});return{create:t.mutateAsync,update:n.mutateAsync,direct:r.mutateAsync}}},103:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n(0),a=n(22),o=n(2),l=n(41);function c(e){return r.createElement(a.View,{style:[i.outerContainer,e.outerContainerStyle]},r.createElement(a.View,{style:[i.container,e.containerStyle]},e.withSeparator?r.createElement(a.View,{style:i.separator,lightColor:"#ddd",darkColor:"rgba(255,255,255, 0.3)"}):void 0,e.title?r.createElement(a.View,{style:i.titleView},r.createElement(a.Text,{style:[i.title,e.titleStyle]},e.title),r.createElement(a.Text,{style:i.subtitle},e.subtitle)):void 0,r.createElement(a.View,{style:[i.bodyView,e.bodyStyle]},e.children)))}var i=o.default.create({outerContainer:{width:"100%",maxWidth:1080,alignItems:"stretch",backgroundColor:"transparent"},container:{marginHorizontal:20,marginVertical:10,backgroundColor:"transparent"},titleView:{width:"100%",flexDirection:"row",backgroundColor:"transparent",marginBottom:5},title:{flex:1,fontSize:16},subtitle:{flex:1,fontSize:12,textAlign:"right",marginTop:4},separator:{marginBottom:20,height:1,width:"100%"},bodyView:{width:"100%",padding:20,alignItems:"center",justifyContent:"center",borderWidth:1,borderColor:l.default.borderColor,borderRadius:6}})},118:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"navigate",(function(){return b})),n.d(t,"default",(function(){return g}));var r=n(635),a=n.n(r),o=n(398),l=n(396),c=n(173),i=n(0),u=n(636),s=n(692),d=n(275),f=n(178),m=n(70),p=i.createRef();function b(e,t){var n,r;t&&(null==(n=p.current)||n.navigate(e,t)),null==(r=p.current)||r.navigate(e)}function g(){var t=Object(d.default)(),n=Object(f.useColorScheme)(),r="no-preference"==n?t:n;return i.createElement(o.default,{ref:p,documentTitle:{formatter:function(e,t){return"TOKKI TOK"}},linking:e.versions&&e.versions.electron?void 0:u.default,theme:"dark"===r?l.default:c.default},i.createElement(m.ResizeContextProvider,null,i.createElement(s.default,null)))}!function(e){if(void 0!==e&&"/"===e.search[1]){var t=e.search.slice(1).split("&").map((function(e){return e.replace(/~and~/g,"&")})).join("?");window.history.replaceState(null,"",e.pathname.slice(0,-1)+t+e.hash)}}(window.location);var h=["ReactNativeFiberHostComponent"],y=a.a.clone(console);console.warn=function(e){var t=!0;e instanceof Object?t=!1:h.forEach((function(n){e.indexOf&&e.indexOf(n)<=-1&&(t=!1)})),t&&y.warn(e)}}.call(this,n(356))},123:function(e,t,n){"use strict";n.r(t),n.d(t,"WebSocketInternalProvider",(function(){return h})),n.d(t,"WebSocketProvider",(function(){return y}));var r=n(6),a=n.n(r),o=n(0),l=n.n(o),c=n(661),i=n.n(c),u=n(110),s=n(205),d={lastJsonMessage:void 0,sendJsonMessage:function(){}},f=Object(o.createContext)(d),m="https://blacktokki.com".split("://"),p=a()(m,2),b=p[0],g=p[1],h=function(e){var t=e.children,n=e.path,r=e.Context,c=e.useBackground,f=Object(o.useState)(null),m=a()(f,2),p=m[0],h=m[1],y=Object(o.useState)(c||"active"==s.default.currentState),v=a()(y,2),j=v[0],O=v[1],E=i()(("https"==b?"wss":"ws")+"://"+g+"/"+n,{shouldReconnect:function(e){return!0},protocols:p?["Authorization",p]:void 0,onOpen:function(e){console.log("success websocket connection("+n+")")},onClose:function(e){console.log("closed websocket connection("+n+")")}},j&&null!=p),w=E.lastJsonMessage,x=E.sendJsonMessage;return Object(o.useEffect)((function(){u.default.getItem("Authorization").then(h);var e=function(e){return O(c||"active"==e)};return s.default.addEventListener("change",e),function(){return s.default.removeEventListener("change",e)}}),[]),l.a.createElement(r.Provider,{value:null!=p?{lastJsonMessage:w,sendJsonMessage:x}:d},t)},y=function(e){var t=e.disable,n=e.children;return t?l.a.createElement(l.a.Fragment,null,n):l.a.createElement(h,{path:"messenger/ws/",Context:f},n)};t.default=function(){return Object(o.useContext)(f)}},124:function(e,t,n){"use strict";n.r(t),n.d(t,"BottomSheet",(function(){return c}));var r=n(0),a=n.n(r),o=n(103),l=n(70);t.default=function(e){var t=Object(l.default)();return a.a.createElement(o.default,{outerContainerStyle:{flex:1,alignSelf:"center",backgroundColor:"#8888",maxWidth:void 0,flexShrink:1},containerStyle:{flex:1,margin:0,justifyContent:"center",alignItems:"center"},bodyStyle:"landscape"==t?{width:"90%",height:"90%",padding:"5%"}:{width:"100%",height:"100%",maxWidth:1080}},e.children)};var c=function(e){return a.a.createElement(o.default,{outerContainerStyle:{flex:1,alignSelf:"center",backgroundColor:"#8888",maxWidth:void 0},containerStyle:{flex:1,margin:0,justifyContent:"flex-end"}},e.children)}},125:function(e,t,n){"use strict";n.r(t);var r=n(30),a=n.n(r),o=n(0),l=n.n(o),c=n(2),i=n(50);t.default=function(e){return l.a.createElement(i.default,a()({},e,{style:[u.style,e.style]}))};var u=c.default.create({style:{borderRadius:6,backgroundColor:"transparent",borderWidth:0}})},128:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c})),n.d(t,"useMessengerMemberMutation",(function(){return i}));var r=n(7),a=n.n(r),o=n(54),l=n(62);function c(e){return Object(o.useQuery)(["MessengerMemberList",e],(function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(Object(l.getMessengerMemberList)(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),null,null,null,Promise)})).data}function i(){var e=Object(o.useQueryClient)(),t=Object(o.useMutation)(l.postBulkMessengerMember,{onSuccess:function(){e.invalidateQueries("MessengerMemberList")}}),n=Object(o.useMutation)(l.deleteMessengerMember,{onSuccess:function(){e.invalidateQueries("MessengerChannelList"),e.invalidateQueries("MessengerMemberList")}});return{invite:t.mutateAsync,leave:n.mutateAsync}}},139:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(397),l=function(e,t,n){return Math.floor(e%(n-t)+t)},c=function(e){var t=function(e,t){for(var n=t||0,r=0;r<e.length;r++)n=e.charCodeAt(r)+((n<<5)-n);return n=Math.abs(n),"hsl("+l(n,0,360)+", "+l(n,0,100)+"%, "+l(n,25,75)+"%)"}(e.name,e.userId);return r.createElement(o.Avatar.Text,{style:{backgroundColor:t},size:e.size,label:e.name.split(" ").map((function(e){return e[0]})).join().toUpperCase()})};t.default=function(e){return a.a.createElement(c,e)}},140:function(e,t,n){"use strict";n.r(t);var r=n(30),a=n.n(r),o=n(21),l=n.n(o),c=n(0),i=n.n(c),u=n(125),s=n(47),d=n(70),f=n(1),m=n(66),p=n(324),b=n(51);t.default=function(e){var t=Object(b.default)().lang,n=Object(s.default)(),r=n.auth,o=n.dispatch,c=Object(m.default)().setModal,g=Object(d.default)(),h=[{title:t("sign out"),onPress:function(){var e;null!=r&&null!=(e=r.user)&&e.username.endsWith(".guest")?c(p.default,{}):o({type:"LOGOUT_REQUEST"})}}],y=(e.extra?[].concat(l()(e.extra),h):h).filter((function(e){return e.windowType==g||void 0==e.windowType}));return i.a.createElement(f.default,{style:{flexDirection:"row"}},y.map((function(e,t){return i.a.createElement(u.default,a()({key:t},e,{textStyle:{color:"white"},color:"#gray"}))})))}},143:function(e,t,n){"use strict";n.r(t),n.d(t,"main",(function(){return Ae})),n.d(t,"login",(function(){return He})),n.d(t,"modal",(function(){return We}));var r=n(6),a=n.n(r),o=n(0),l=n.n(o),c=n(28),i=n(53),u=n(58),s=n(1),d=n(2),f=n(47),m=n(51),p=n(108),b=n(8),g=n(61),h=n(945),y=n(64),v="web"==b.default.OS?function(e){location.href=e}:p.default.openURL,j=function(){var e=Object(y.default)();return l.a.createElement(s.default,{style:O.footer_buttons},l.a.createElement(g.TouchableOpacity,{style:O.footer_button,onPress:function(){return v("https://github.com/blacktokki/tokki-tok")}},l.a.createElement(h.default,{name:"github",size:24,color:"light"==e?"black":"white"})),l.a.createElement(g.TouchableOpacity,{style:O.footer_button,onPress:function(){return p.default.openURL("mailto:ydh051541@naver.com")}},l.a.createElement(h.default,{name:"mail",size:24,color:"light"==e?"black":"white"})))},O=d.default.create({footer_buttons:{width:"100%",flexDirection:"row",justifyContent:"flex-end",paddingBottom:20,paddingRight:20},footer_button:{alignItems:"center",justifyContent:"center",width:38,height:38,marginHorizontal:12,borderWidth:1,borderColor:"#E7E7E7",borderRadius:60}});var E=d.default.create({login_container:{flex:1,backgroundColor:"#FFF"},login_header:{alignItems:"center",paddingTop:30,paddingBottom:50,backgroundColor:"#208AEC"},login_header_logo:{width:220,resizeMode:"contain"},login_header_text:{marginTop:15,color:"#f0f0f0",fontSize:16},login_header_text_bold:{color:"#fff",fontWeight:"bold"},login_wrapper:{flex:1,justifyContent:"space-between",paddingTop:40,borderTopRightRadius:12,borderTopLeftRadius:12,backgroundColor:"#fff",alignItems:"center"},form:{width:"100%",maxWidth:320},form_error:{height:22,width:"100%"},form_error_text:{textAlignVertical:"center",color:"red",fontSize:13},form_input:{height:44,paddingHorizontal:20,marginBottom:20,backgroundColor:"#EDF0F7",borderRadius:50},button:{alignItems:"center",justifyContent:"center",height:44,backgroundColor:"#0065A4",borderRadius:50},button_label:{color:"#fff",fontSize:16},login_social:{width:"100%",maxWidth:280,marginTop:20},login_social_separator:{flexDirection:"row",alignItems:"center"},login_social_separator_line:{flex:1,width:"100%",height:1,backgroundColor:"#E0E0E0"},login_social_separator_text:{marginHorizontal:10,color:"#808080",fontSize:16},login_social_buttons:{flexDirection:"row",justifyContent:"center",marginTop:20},login_social_button:{alignItems:"center",justifyContent:"center",width:60,height:60,marginHorizontal:12,borderWidth:1,borderColor:"#E7E7E7",borderRadius:60},login_social_icon:{width:38,height:38,resizeMode:"contain"},login_social_facebook:{backgroundColor:"#4267B2",borderColor:"#4267B2"},login_footer_text:{flexDirection:"row",alignItems:"center",color:"#808080",fontSize:14},guest_footer_text:{flexDirection:"row",alignSelf:"center",color:"#808080",fontSize:15,margin:15},login_footer_link:{color:"#208AEC",fontSize:15,fontWeight:"bold"}}),w=n(30),x=n.n(w),S=n(103),k=n(50),C=n(3),P=n.n(C),M=n(21),T=n.n(M),D=n(7),_=n.n(D),z=n(54),I=n(62),L=n(123);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){var t=Object(z.useQueryClient)(),n=Object(z.useInfiniteQuery)(["MessengerContentList",e],(function(t){var n;return _.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.pageParam,r.abrupt("return",Object(I.getMessengerContentList)(e,n).then((function(e){return{current:e}})));case 2:case"end":return r.stop()}}),null,null,null,Promise)}),{select:function(e){return e.pages.length>1&&(e.pages[e.pages.length-2].next=e.pages[e.pages.length-1]),e},getNextPageParam:function(e){return null!=e&&e.current.length?e.current[e.current.length-1].id:void 0},refetchOnReconnect:!1,refetchOnWindowFocus:!0}),r=n.data,a=n.fetchNextPage,l=Object(L.default)().lastJsonMessage;return Object(o.useEffect)((function(){null!=l&&"next_message"==l.type&&l.data.channel==e&&t.setQueryData(["MessengerContentList",e],(function(e){return null!=e&&e.pages[0].current&&(null==e?void 0:e.pages[0].current[0].id)!=l.data.id&&(e.pages[0].current=[l.data].concat(T()(null==e?void 0:e.pages[0].current))),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e||{pages:[],pageParams:[]})}))}),[l]),{data:r,fetchNextPage:a}}var B=n(140),A=n(128),H=n(41),W=n(22),U=n(348),N=n(101),F=n(179),G=n(59),Q=function(e){var t=e.link,n=e.isMobile;return l.a.createElement(S.default,{containerStyle:{marginHorizontal:0},bodyStyle:{padding:0}},l.a.createElement(g.TouchableOpacity,{onPress:function(){return p.default.openURL(t.url)},style:{flexDirection:"row"},containerStyle:{width:"100%"}},t.image&&l.a.createElement(G.default,{source:{uri:t.image},resizeMode:"cover",style:{width:"100%",maxWidth:n?120:150,maxHeight:n?120:150,borderWidth:1}}),l.a.createElement(W.View,{style:{flex:1,marginHorizontal:20}},l.a.createElement(W.Text,{style:{fontSize:18}},t.title),l.a.createElement(W.Text,{style:{fontSize:14}},t.description),l.a.createElement(W.Text,{style:{fontSize:12}},t.url))))},J=n(139),q=Object(o.createContext)({lastJsonMessage:void 0,sendJsonMessage:function(){}}),K=function(e){var t=e.disable,n=e.children;return t?l.a.createElement(l.a.Fragment,null):l.a.createElement(L.WebSocketInternalProvider,{path:"messenger/ws/rtc/",Context:q,useBackground:!0},n)},Y=function(){return Object(o.useContext)(q)},X=n(159),Z=n(78);console.log("use turn server");var $={iceServers:[JSON.parse('{"urls": "turn:34.64.153.219:3478", "credential": "qwer1234", "username": "ydh051541"}')]},ee={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0,VoiceActivityDetection:!0}},te={audio:!0,video:{framerate:30}},ne=function(e,t){var n=t.data.rtcMessage,r=new Z.RTCIceCandidate(n);e&&(console.log("ICE candidate Added"),e.addIceCandidate(r))},re=function(e,t,n,r){e.candidate&&t({type:"ICEcandidate",receiver:n,data:{target:r,rtcMessage:e.candidate}})},ae=function(e){var t=e.sdp.split("\r\n");return t.forEach((function(e,n){/^a=fmtp:\d*/.test(e)?t[n]=e+";x-google-max-bitrate=8000;x-google-min-bitrate=8000;x-google-start-bitrate=8000":/^a=mid:(0|video)/.test(e)&&(t[n]+="\r\nb=AS:8000")})),new Z.RTCSessionDescription({type:e.type,sdp:t.join("\r\n")})},oe=function(e,t,n,r,a){var o;return _.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n&&e.pc.addStream(n),l.t0=ae,l.next=4,_.a.awrap(e.pc.createOffer(ee));case 4:return l.t1=l.sent,o=(0,l.t0)(l.t1),l.next=8,_.a.awrap(e.pc.setLocalDescription(o));case 8:t({type:"call",receiver:e.receiver,data:{target:r,name:null==a?void 0:a.name,rtcMessage:o}});case 9:case"end":return l.stop()}}),null,null,null,Promise)},le=d.default.create({container:{flex:1},cam:{flex:1,height:"100%"},bottonContainer:{position:"absolute",bottom:0,justifyContent:"flex-end"},buttonBar:{flexDirection:"row",justifyContent:"space-around"},label:{backgroundColor:"#0008",color:"white",paddingHorizontal:5}}),ce=function(e){var t,n=Y(),r=n.lastJsonMessage,i=function(e){var t=Object(o.useRef)({}),n=Object(o.useState)(),r=a()(n,2),c=r[0],i=r[1],u=Object(o.useState)(),s=a()(u,2),d=s[0],f=s[1],m=Object(o.useMemo)((function(){return!!d}),[d]),p=Object(o.useCallback)(l.a.memo((function(e){var t=e.style;return d?l.a.createElement(Z.RTCView,{stream:d,style:t,videoProps:{height:"100%"}}):l.a.createElement(l.a.Fragment,null)})),[d]);return{start:Object(o.useCallback)((function(n,r,o){var l;return _.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(console.log("start"),d&&void 0===o){c.next=28;break}if(c.prev=2,"camera"!=o){c.next=9;break}return c.next=6,_.a.awrap(Z.mediaDevices.getUserMedia(te));case 6:l=c.sent,c.next=21;break;case 9:if("display"!=o){c.next=15;break}return c.next=12,_.a.awrap(Z.mediaDevices.getDisplayMedia(te));case 12:l=c.sent,c.next=21;break;case 15:if(c.t0=r,c.t0){c.next=20;break}return c.next=19,_.a.awrap(Z.mediaDevices.getUserMedia(te).catch((function(e){return Z.mediaDevices.getDisplayMedia(te)})));case 19:c.t0=c.sent;case 20:l=c.t0;case 21:f(l),Object.entries(t.current).map((function(t){var r=a()(t,2),o=(r[0],r[1]);oe(o,e,l,"guest",n)})),c.next=28;break;case 25:c.prev=25,c.t1=c.catch(2),console.error(c.t1);case 28:case"end":return c.stop()}}),null,null,[[2,25]],Promise)}),[d]),stop:Object(o.useCallback)((function(){console.log("stop"),d&&(d.getTracks().map((function(e){return e.stop()})),f(void 0))}),[d]),websocketOnMessage:function(n,r){var a,o,l,c,u;return _.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if("connection"==(a=n.type)&&i(n.data.channel_name),"start"==a&&"host"==n.data.target&&(console.log("1 start"),(o=new Z.RTCPeerConnection($)).addEventListener("icecandidate",(function(t){return re(t,e,n.sender,"guest")})),t.current[n.sender]={pc:o,receiver:n.sender},oe(t.current[n.sender],e,d,"guest",r)),"answer"!=a||"host"!=n.data.target){s.next=9;break}return console.log("3 answer"),l=t.current[n.sender].pc,c=new Z.RTCSessionDescription(n.data.rtcMessage),s.next=9,_.a.awrap(l.setRemoteDescription(c));case 9:"ICEcandidate"==a&&"host"==n.data.target&&(u=t.current[n.sender].pc,ne(u,n));case 10:case"end":return s.stop()}}),null,null,null,Promise)},CustomRTCView:p,isPlay:m,sender:c}}(n.sendJsonMessage),u=i.start,d=i.stop,f=i.websocketOnMessage,m=i.CustomRTCView,p=i.isPlay;return Object(o.useEffect)((function(){e.user&&r&&f(r,e.user)}),[r,e.user]),Object(o.useEffect)((function(){return e.mode&&!p?e.user&&u(e.user,void 0,e.mode):null===e.mode&&p&&d(),function(){p&&d()}}),[p,e.user,e.mode]),l.a.createElement(s.default,{style:le.container},l.a.createElement(m,{style:le.cam}),l.a.createElement(s.default,{style:le.bottonContainer},l.a.createElement(s.default,{style:le.buttonBar}),l.a.createElement(s.default,{style:{flexDirection:"row"}},l.a.createElement(c.default,{style:le.label},null==(t=e.user)?void 0:t.name)),l.a.createElement(s.default,{style:le.buttonBar},void 0===e.mode&&!p&&l.a.createElement(X.default,{title:"Start",onPress:function(){return e.user&&u(e.user)}}),void 0===e.mode&&p&&l.a.createElement(X.default,{title:"Stop",onPress:d}))))},ie=function(e){var t=Object(o.useState)(""),n=a()(t,2),r=n[0],u=n[1],d=Y(),f=d.lastJsonMessage,m=function(e){var t=Object(o.useRef)({}),n=Object(o.useState)(),r=a()(n,2),c=r[0],i=r[1],u=Object(o.useState)(),s=a()(u,2),d=s[0],f=s[1],m=Object(o.useCallback)(l.a.memo((function(e){return d?l.a.createElement(Z.RTCView,{stream:d,style:e,videoProps:{height:"100%"}}):l.a.createElement(l.a.Fragment,null)})),[d]),p=Object(o.useMemo)((function(){return!!d}),[d]),b=Object(o.useCallback)((function(n){console.log("start"),t.current.pc||(t.current.pc=new Z.RTCPeerConnection($),t.current.receiver=n),d||e({type:"start",receiver:n,data:{target:"host"}})}),[d]),g=function(){console.log("stop"),t.current.pc&&(f(void 0),t.current.pc.close(),t.current.pc=void 0,t.current.receiver=void 0,clearInterval(t.current.statsInterval))};return{start:b,stop:g,websocketOnMessage:function(n){var r,a,o,l,u,s,m,p,b,h,y,v;return _.a.async((function(j){for(;;)switch(j.prev=j.next){case 0:if("start"!=(u=n.type)||"guest"!=n.data.target||n.sender!=(null==(r=t.current)?void 0:r.receiver)){j.next=10;break}return console.log("(remote)1 start"),s=t.current.pc,i({name:n.data.name}),s.addEventListener("icecandidate",(function(t){return re(t,e,n.sender,"host")})),s.addEventListener("iceconnectionstatechange",(function(e){if("connected"==t.current.pc.iceConnectionState){var n=!1;t.current.statsInterval=setInterval((function(){var e,r,a;return _.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,_.a.awrap(t.current.pc.getStats(null));case 2:e=o.sent,r="",a=void 0,e.forEach((function(e){"inbound-rtp"===e.type&&"video"===e.kind&&(Object.keys(e).forEach((function(t){r+=t+": "+e[t]+"\n"})),a=e.framesPerSecond)})),console.log(n,a),void 0!=a?n=!0:n&&g(),console.log((new Date).toTimeString().split(" ")[0],r);case 9:case"end":return o.stop()}}),null,null,null,Promise)}),1e3)}else"failed"==t.current.pc.iceConnectionState&&g()})),s.addTransceiver("video",{direction:"recvonly"}),j.next=10,_.a.awrap(oe({pc:t.current.pc,receiver:n.sender},e,d,"host",c));case 10:if("answer"!=u||"guest"!=n.data.target||n.sender!=(null==(a=t.current)?void 0:a.receiver)){j.next=18;break}return console.log("(remote)3 answer"),m=new Z.RTCSessionDescription(n.data.rtcMessage),j.next=15,_.a.awrap(t.current.pc.setRemoteDescription(m));case 15:p=t.current.pc.getRemoteStreams(),f(p[p.length-1]),e({type:"end",receiver:t.current.receiver,data:{}});case 18:if("call"!=u||n.sender!=(null==(o=t.current)?void 0:o.receiver)){j.next=36;break}if(console.log("2 call"),b=t.current.pc,i({name:n.data.name}),b){j.next=24;break}return j.abrupt("return");case 24:return b.addEventListener("icecandidate",(function(t){return re(t,e,n.sender,"host")})),h=new Z.RTCSessionDescription(n.data.rtcMessage),j.next=28,_.a.awrap(b.setRemoteDescription(h));case 28:return j.next=30,_.a.awrap(b.createAnswer(ee));case 30:return y=j.sent,j.next=33,_.a.awrap(b.setLocalDescription(y));case 33:e({type:"answer",receiver:t.current.receiver,data:{target:"host",rtcMessage:b.localDescription}}),v=t.current.pc.getRemoteStreams(),f(v[v.length-1]);case 36:"ICEcandidate"==u&&"guest"==n.data.target&&n.sender==(null==(l=t.current)?void 0:l.receiver)&&ne(t.current.pc,n);case 37:case"end":return j.stop()}}),null,null,null,Promise)},CustomRTCView:m,user:c,isPlay:p}}(d.sendJsonMessage),p=m.start,b=m.stop,g=m.websocketOnMessage,h=m.CustomRTCView,y=m.isPlay,v=m.user;return Object(o.useEffect)((function(){f&&g(f)}),[f]),Object(o.useEffect)((function(){return e.receiver&&p(e.receiver),function(){return b()}}),[e.receiver]),l.a.createElement(s.default,{style:le.container},l.a.createElement(h,{style:le.cam}),l.a.createElement(s.default,{style:le.bottonContainer},l.a.createElement(s.default,{style:le.buttonBar}),l.a.createElement(s.default,{style:{flexDirection:"row"}},e.receiver||y?l.a.createElement(c.default,{style:le.label},(null==v?void 0:v.name)||"loading..."):l.a.createElement(l.a.Fragment,null,l.a.createElement(c.default,{style:{borderWidth:1}},"Receiver:\xa0"),l.a.createElement(i.default,{style:{borderWidth:1,flex:1},value:r,onChangeText:u}))),l.a.createElement(s.default,{style:le.buttonBar},void 0===e.receiver&&!y&&l.a.createElement(X.default,{title:"Start",onPress:function(){return p(r)}}),void 0===e.receiver&&y&&l.a.createElement(X.default,{title:"Stop",onPress:b}))))},ue=n(70),se=n(936),de=function(e){return l.a.createElement(s.default,{style:[{maxWidth:e.scale,maxHeight:e.scale,borderWidth:1,borderColor:H.default.borderColor,backgroundColor:"gray",flexDirection:"row",flexGrow:1},void 0==e.focusGuest||e.focusGuest==e.receiver?{height:"100%"}:{maxWidth:0,height:0}]},l.a.createElement(g.TouchableOpacity,{style:{flex:1},containerStyle:{flex:1,justifyContent:"center"},onPress:function(){return e.setFocusGuest(e.focusGuest?void 0:e.receiver)}},e.children))},fe=function(e){var t,n=e.channel_id,r=e.disable,c=e.setDisable,i=Object(f.default)().auth,u=Object(o.useState)(null),d=a()(u,2),m=d[0],p=d[1],b=Object(o.useState)([]),g=a()(b,2),h=g[0],y=g[1],v=Object(o.useState)(),j=a()(v,2),O=j[0],E=j[1],w=Object(ue.default)(),x=Y(),S=x.lastJsonMessage,C=x.sendJsonMessage;Object(o.useEffect)((function(){if(null!=S&&("connection"==S.type&&C({type:"broadcast",data:{channel_id:n}}),"broadcast_guest"!=S.type&&"broadcast_host"!=S.type||y([].concat(T()(h),[S.sender])),"broadcast_disconnect"==S.type)){var e=S.sender;h.find((function(t){return t==e}))&&y(h.filter((function(t){return t!=e})))}}),[S]);var P=O?"100%":100/Math.max(2,Math.ceil(Math.sqrt(h.length+1)))+"%",M=function(e){p(m!=e?e:null)};return void 0!==S?l.a.createElement(W.View,{style:[{aspectRatio:r?0:16/9,borderColor:H.default.borderColor,borderRadius:10},"landscape"==w?{flexShrink:1,flexGrow:0,height:"100%",borderLeftWidth:1,paddingBottom:65}:{maxHeight:"36%",width:"100%",borderBottomWidth:1}]},l.a.createElement(s.default,{style:{aspectRatio:O?void 0:16/9,backgroundColor:"white",flexWrap:"wrap",flexDirection:"row",width:"100%",height:"100%"}},h.map((function(e,t){return l.a.createElement(de,{scale:P,focusGuest:O,setFocusGuest:E,receiver:e},l.a.createElement(ie,{receiver:e}))})),l.a.createElement(de,{scale:P,focusGuest:O,setFocusGuest:E,receiver:null==(t=i.user)?void 0:t.name},l.a.createElement(ce,{user:i.user,mode:m}))),l.a.createElement(W.View,{style:[{position:"absolute",alignItems:"center",justifyContent:"flex-end",width:"100%",flexDirection:"row"},"landscape"==w?{bottom:0,paddingTop:15,paddingBottom:10,paddingHorizontal:19}:{backgroundColor:"transparent"}]},l.a.createElement(k.default,{title:"\u23fa\ufe0f",style:{height:40,paddingTop:8},onPress:function(){return M("camera")}}),l.a.createElement(k.default,{title:"\ud83d\udda5\ufe0f",style:{height:40,paddingTop:8},onPress:function(){return M("display")}}),l.a.createElement(k.default,{title:"",style:{height:40,paddingTop:8},onPress:function(){return c(!0)}},l.a.createElement(se.default,{size:20,name:"arrow-back",color:"deepskyblue"})))):l.a.createElement(l.a.Fragment,null)},me=l.a.memo((function(e){var t=e.channel_id,n=e.disable,r=e.setDisable;return l.a.createElement(K,{disable:n},l.a.createElement(fe,{channel_id:t,disable:n,setDisable:r}))})),pe=n(946);var be=function(e){var t=e.file,n=(e.isMobile,e.showBorder),r=Object(y.default)();return l.a.createElement(S.default,{containerStyle:{marginHorizontal:0},bodyStyle:n?{padding:10}:{borderWidth:0,padding:0}},l.a.createElement(g.TouchableOpacity,{onPress:function(){return p.default.openURL(t.file)},style:{flexDirection:"row",alignItems:"flex-start"},containerStyle:{width:"100%"}},l.a.createElement(pe.default,{name:"file-o",size:20,color:"light"==r?"black":"white"}),l.a.createElement(W.View,{style:{flex:1,marginHorizontal:10}},l.a.createElement(W.Text,{style:{fontSize:18}},t.filename),l.a.createElement(W.Text,{style:{fontSize:14}},function(e){var t=0==e?0:Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,t)).toFixed(2)+" "+["B","kB","MB","GB","TB"][t]}(t.filesize)))))},ge=n(66),he=n(346),ye=n(242),ve=n(947),je=n(10),Oe=n.n(je);function Ee(e,t){return e.year()!=t.year()?e.format("YYYY.MM"):e.month()!=t.month()||e.day()!=t.day()?e.format("MM.DD"):e.format("HH:mm")}var we=function(e){var t=Oe()(e.data.created),n=Oe()(e.data.timer),r=t.diff(e.now)/t.diff(n);return l.a.createElement(u.default,{onPress:function(){return e.setExpand(e.isExpand?void 0:e.data.id)}},l.a.createElement(s.default,{style:{backgroundColor:"lightgray",borderRadius:20,overflow:"hidden",margin:5}},l.a.createElement(s.default,{style:{backgroundColor:"darkgray",position:"absolute",width:100*r+"%",height:"100%"}}),e.isExpand?l.a.createElement(s.default,{style:{paddingVertical:5,paddingHorizontal:5,maxWidth:270}},l.a.createElement(s.default,{style:{flexDirection:"row"}},l.a.createElement(J.default,{name:e.data.name,userId:e.data.user,size:20}),l.a.createElement(s.default,{style:{paddingHorizontal:5}},l.a.createElement(W.Text,null,e.data.name))),l.a.createElement(s.default,{style:{flexDirection:"row",alignItems:"stretch"}},l.a.createElement(W.Text,null,"\u231a"),l.a.createElement(W.Text,{selectable:!0},Oe()(e.data.timer).format("L HH:mm"))),l.a.createElement(U.default,{linkDefault:!0,style:{wordBreak:"break-word"},linkStyle:{color:"#12b886"}},l.a.createElement(W.Text,{selectable:!0},e.data.message_set[0].content))):l.a.createElement(s.default,{style:{paddingVertical:5,paddingHorizontal:5,flexDirection:"row"}},l.a.createElement(J.default,{name:e.data.name,userId:e.data.user,size:20}),l.a.createElement(s.default,{style:{paddingHorizontal:5}},l.a.createElement(W.Text,null,Ee(n,e.now))))))},xe=function(e){var t=function(e){var t=Object(z.useQueryClient)(),n=Object(z.useQuery)(["TimerMessageContentList",e],(function(){return _.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.awrap(Object(I.getTimerMessageContentList)(e,Oe()().format(Oe.a.HTML5_FMT.DATETIME_LOCAL)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),null,null,null,Promise)})).data,r=Object(L.default)().lastJsonMessage;Object(o.useEffect)((function(){null!=r&&"next_message"==r.type&&r.data.channel==e&&r.data.timer&&Oe()()<Oe()(r.data.timer)&&t.setQueryData(["TimerMessageContentList",e],(function(e){return[].concat(T()(e||[]),[r.data])}))}),[r]);var a=Object(o.useMemo)((function(){return null==n?void 0:n.sort((function(e,t){return(e.timer||"")>(t.timer||"")?1:-1}))}),[n]);return Object(o.useEffect)((function(){var n;if(null!=a&&null!=(n=a[0])&&n.timer){var r=a[0].id,o=setTimeout((function(){t.setQueryData(["TimerMessageContentList",e],(function(e){return(e||[]).filter((function(e){return e.id!=r}))}))}),Oe()(a[0].timer).diff(Oe()()));return function(){return clearTimeout(o)}}}),[a]),a}(e.channel_id),n=Object(o.useState)(Oe()()),r=a()(n,2),c=r[0],i=r[1],u=Object(o.useState)(),d=a()(u,2),f=d[0],m=d[1];return Object(o.useEffect)((function(){var e=setTimeout((function(){i(Oe()())}),2e3);return function(){return clearTimeout(e)}}),[c]),l.a.createElement(s.default,{style:{flexDirection:"row",paddingTop:5,paddingHorizontal:20}},null==t?void 0:t.map((function(e,t){return l.a.createElement(we,{key:t,data:e,now:c,isExpand:e.id==f,setExpand:m})})))};var Se=l.a.memo((function(e){for(var t,n=Object(F.default)(),r=e.next;null!=(a=r)&&a.next&&0==r.current.length;){var a;r=r.next}var o=null==(t=r)?void 0:t.current[0];return l.a.createElement(s.default,{style:{flexDirection:"column-reverse"}},e.current.map((function(t,r){var a=r+1<e.current.length?e.current[r+1]:o,c=t.created.slice(0,16),i=c.slice(0,10),u=null==t.user,d=void 0==a||t.user!=a.user||c!=a.created.slice(0,16),f=e.ownerId==t.user,m=void 0==a||i!=a.created.slice(0,10),p=t.message_set[0];return u?l.a.createElement(s.default,{key:t.id,style:{flexDirection:"row",justifyContent:"center",width:"100%",marginVertical:5}},l.a.createElement(W.Text,null,p.content)):l.a.createElement(s.default,{key:t.id},m?l.a.createElement(s.default,{style:{flexDirection:"row",justifyContent:"center",width:"100%"}},l.a.createElement(W.Text,null,i)):void 0,l.a.createElement(s.default,{key:t.id,style:{flexDirection:"row",justifyContent:f?"space-between":"flex-start",width:"100%"}},d&&!f?l.a.createElement(s.default,{style:{marginTop:3,marginLeft:12}},l.a.createElement(J.default,{name:t.name,userId:t.user,size:36})):l.a.createElement(s.default,{style:{width:48}}),l.a.createElement(S.default,{outerContainerStyle:{width:void 0,maxWidth:"90%"},title:d?t.name:void 0,titleStyle:{flex:void 0},bodyStyle:{padding:10},subtitle:""+c.slice(11)},t.timer&&l.a.createElement(s.default,{style:{flexDirection:"row",alignItems:"stretch"}},l.a.createElement(W.Text,{style:{fontSize:12}},"\u231a"),l.a.createElement(W.Text,{style:{fontSize:12},selectable:!0},Oe()(t.timer).format("L HH:mm"))),l.a.createElement(s.default,{style:{width:"100%"}},l.a.createElement(U.default,{linkDefault:!0,style:{wordBreak:"break-word"},linkStyle:{color:"#12b886"}},l.a.createElement(W.Text,{selectable:!0,style:{textAlign:f?"right":"left"}},p.content))),t.file_set.map((function(e,r){return l.a.createElement(be,{key:r,file:e,isMobile:n,showBorder:t.file_set.length>1||p.content.length>0})})),t.link_set.map((function(e,t){return l.a.createElement(Q,{key:t,link:e,isMobile:n})})))))})))}));var ke=n(35),Ce=n(178),Pe=n(207),Me=n(125),Te=n(164),De=n(206),_e=n(664),ze=n(208),Ie=n(327),Le=n(332),Re=n(118),Ve={OneTab:{title:"member",component:function(){var e=Object(f.default)().auth,t=Object(ge.default)().setModal,n=Object(De.default)(e),r=l.a.useMemo((function(){return n&&n.map((function(e,n){return l.a.createElement(Ie.default,{key:n,member:e,onPress:function(){return t(Le.default,{id:e.id})}})}))}),[n]);return l.a.createElement(g.ScrollView,{style:{flex:1,backgroundColor:"white"}},r)},icon:l.a.createElement(_e.default,{size:32,style:{marginBottom:-3},name:"account"})},TwoTab:{title:"chat",component:function(){var e=Object(f.default)().auth,t=Object(N.useMessengerChannelSorted)(e),n=(new Date).toISOString().slice(0,10);return l.a.createElement(g.ScrollView,{style:{flex:1,backgroundColor:"white"}},null==t?void 0:t.map((function(e,t){var r,a,o,i=null==(r=e.last_message)?void 0:r.created.slice(0,10);return l.a.createElement(ze.default,{key:t,bodyStyle:{flexDirection:"row",justifyContent:"space-between"},onPress:function(){return Object(Re.navigate)("ChatScreen",{id:e.id})}},l.a.createElement(s.default,{style:{flexDirection:"row"}},l.a.createElement(pe.default,{size:36,style:{marginBottom:-3,marginRight:20},name:"users"}),l.a.createElement(s.default,null,l.a.createElement(s.default,{style:{flexDirection:"row"}},l.a.createElement(c.default,{style:{fontSize:18}},e.name),l.a.createElement(c.default,{style:{fontSize:18,opacity:.4,paddingLeft:5}},e.member_count)),l.a.createElement(c.default,{style:{fontSize:16,opacity:.4}},null==(a=e.last_message)?void 0:a.content))),l.a.createElement(s.default,null,l.a.createElement(c.default,{style:{fontSize:14,opacity:.4,textAlign:"right"}},i==n?null==(o=e.last_message)?void 0:o.created.slice(11,16):i),l.a.createElement(c.default,{style:{fontSize:14,textAlign:"right"}},e.unread_count?e.unread_count:" ")))})))},icon:l.a.createElement(se.default,{size:30,style:{marginBottom:-3},name:"chatbox"})}};function Be(e){var t,n=e.navigation,r=e.route,c=null==r||null==(t=r.params)?void 0:t.id,i=Object(f.default)(),u=i.auth,s=i.dispatch,d=Object(o.useState)(!1),m=a()(d,2),p=m[0],b=m[1],g=Object(N.default)(u),h=Object(A.useMessengerMemberMutation)();return Object(o.useLayoutEffect)((function(){n.setOptions({headerRight:void 0})}),[]),Object(o.useEffect)((function(){null==u.user&&0==p?(s({type:"LOGIN_GUEST"}),b(!0)):u.user&&void 0!==g&&(void 0===g.find((function(e){return e.id==c}))?(console.log("invite processing (channel:"+c+")"),h.invite({channel_id:c,user_ids:[u.user.id]}).then((function(){return n.replace("ChatScreen",{id:c})}))):(console.log("already invite"),n.replace("ChatScreen",{id:c})))}),[u,g,p]),l.a.createElement(W.Text,null,"\ucd08\ub300\uc911")}var Ae={HomeScreen:{title:"home",component:function(e){var t,n=e.navigation,r=e.route,i=Object(m.default)(),u=i.lang,d=i.locale,f=i.setLocale,p=Object(ue.default)(),b=Object(y.default)(),g=Object(Ce.useColorScheme)(),h=Object(ge.default)().setModal,v=Object(o.useState)("landscape"==p),O=a()(v,2),E=O[0],w=O[1],x=H.default[b].text,k=[{title:u("member"),headerRight:function(){return l.a.createElement(B.default,null)}},{title:u("chat"),headerRight:function(){return l.a.createElement(B.default,{extra:[{title:u("create"),onPress:function(){return h(Te.default,{type:"messenger"})}}]})}},{title:"config",headerRight:function(){return l.a.createElement(B.default,null)}}];return Object(o.useLayoutEffect)((function(){var e,t=0|(null==r||null==(e=r.params)?void 0:e.tab);n.setOptions("portrait"==p?k[t]:{title:u("home"),headerRight:function(){return l.a.createElement(B.default,null)}})}),[n,r,p,d]),Object(o.useEffect)((function(){w("landscape"==p)}),[p]),E?l.a.createElement(s.default,{style:{flex:1,justifyContent:"center",alignItems:"center"}},l.a.createElement(s.default,{style:{width:"80%",flex:1,marginTop:72}},l.a.createElement(ke.default,{style:{fontSize:32,color:x}},"Tokki Tok"),l.a.createElement(s.default,{style:{backgroundColor:H.default.borderColor,height:1,width:"100%"}}),l.a.createElement(s.default,{style:{height:24}}),l.a.createElement(S.default,{bodyStyle:{alignItems:"flex-start",backgroundColor:"transparent"}},l.a.createElement(Me.default,{title:u("+ New chat"),textStyle:{fontSize:20,color:x},style:{paddingLeft:0,borderRadius:20},onPress:function(){return h(Te.default,{type:"messenger"})}})),l.a.createElement(S.default,{bodyStyle:{alignItems:"flex-start",backgroundColor:"transparent"}},l.a.createElement(c.default,{style:{fontSize:20,color:x,fontWeight:"600"}},u("* Language Settings")),l.a.createElement(s.default,{style:{flexDirection:"row"}},[[u("Auto"),"auto"],["\ud55c\uad6d\uc5b4","ko"],["English","en"]].map((function(e){var t=a()(e,2),n=t[0],r=t[1];return l.a.createElement(Me.default,{key:n,title:n||"",textStyle:{fontSize:16,color:x,textDecorationLine:d==r?"underline":"none"},style:{borderRadius:20},onPress:function(){return f(r)}})})))),l.a.createElement(S.default,{bodyStyle:{alignItems:"flex-start",backgroundColor:"transparent"}},l.a.createElement(c.default,{style:{fontSize:20,color:x,fontWeight:"600"}},u("* Skin Settings")),l.a.createElement(s.default,{style:{flexDirection:"row"}},[[u("Auto"),"no-preference"],[u("Light"),"light"],[u("Dark"),"dark"]].map((function(e){var t=a()(e,2),n=t[0],r=t[1];return l.a.createElement(Me.default,{key:n,title:n,textStyle:{fontSize:16,color:x,textDecorationLine:g==r?"underline":"none"},style:{borderRadius:20},onPress:function(){return Object(y.setColorScheme)(r)}})}))))),l.a.createElement(j,null)):l.a.createElement(Pe.default,{tabs:Ve,tabBarPosition:"bottom",index:parseInt((null==(t=r.params)?void 0:t.tab)||0),onTab:function(e){n.setParams({tab:e})}})},path:"home"},ChatScreen:{title:"chat",component:function(e){var t,n,r=e.navigation,c=e.route,i=Object(m.default)(),u=i.lang,d=i.locale,p=Object(F.default)(),h=null==c||null==(t=c.params)?void 0:t.id,v=Object(o.useRef)(0),j=Object(o.useRef)(null),O=Object(f.default)().auth,E=Object(ge.default)().setModal,w=null==(n=Object(N.default)(O))?void 0:n.find((function(e){return e.id==parseInt(h)})),S=V(h),C=S.data,P=S.fetchNextPage,M=Object(A.default)(h),T=Object(o.useMemo)((function(){var e;return null==M||null==(e=M.find((function(e){var t;return e.user==(null==(t=O.user)?void 0:t.id)})))?void 0:e.id}),[O,M]),D=Object(ue.default)(),_=Object(A.useMessengerMemberMutation)(),L=Object(o.useState)(""),R=a()(L,2),U=R[0],G=R[1],Q=Object(o.useState)(),J=a()(Q,2),q=J[0],K=J[1],Y=Object(o.useState)(null),X=a()(Y,2),Z=X[0],$=X[1],ee=Object(o.useState)(!1),te=a()(ee,2),ne=te[0],re=te[1],ae=Object(o.useState)(!1),oe=a()(ae,2),le=oe[0],ce=oe[1],ie=Object(y.default)(),se=function(){var e;U.length>0&&(de.create({channel:h,user:null==(e=O.user)?void 0:e.id,content:U,timer:q}),G(""),K(void 0),ce(!1),$(!0))},de=function(){var e=Object(z.useMutation)(I.postMessage,{onSuccess:function(){}}),t=Object(z.useMutation)(I.deleteMessengerContent,{onSuccess:function(e,t){}});return{create:e.mutate,delete:t.mutate}}();Object(o.useLayoutEffect)((function(){r.setOptions({headerRight:function(){return l.a.createElement(B.default,{extra:[{title:u("invite"),onPress:function(){return E(he.default,{id:h})}},{title:u("leave"),onPress:function(){T&&_.leave(T).then(be)}}]})},title:null==w?void 0:w.name})}),[r,c,T,d]);var fe,pe=Object(o.useCallback)((function(e){var t,n=e.item;e.index;return l.a.createElement(Se,x()({},n,{ownerId:null==(t=O.user)?void 0:t.id}))}),[O]),be=function(){r.canGoBack()?r.goBack():r.navigate("HomeScreen",{tab:2})};return Object(o.useEffect)((function(){E(null,null),h||be()}),[c]),Object(o.useEffect)((function(){Z&&(j.current.focus(),$(!1))}),[Z]),Object(o.useEffect)((function(){if(null==Z&&!p){var e=setTimeout((function(){return $(!0)}),500);return function(){return clearTimeout(e)}}})),l.a.createElement(s.default,{style:[{flex:1,alignItems:"center"},"landscape"==D?{flexDirection:"row-reverse",minWidth:480}:{flexDirection:"column"}]},l.a.createElement(me,{channel_id:h,setDisable:function(e){return re(!e)},disable:!ne}),l.a.createElement(s.default,{style:[{flex:ne?void 0:1,flexShrink:1},"landscape"==D?{minWidth:320,height:"100%"}:{width:"100%"}]},l.a.createElement(g.FlatList,{style:{flexDirection:"column-reverse"},contentContainerStyle:{padding:10,flexGrow:1,flexDirection:"column-reverse"},data:null==C?void 0:C.pages,renderItem:pe,onScroll:function(e){e.nativeEvent.contentOffset.y+e.nativeEvent.contentSize.height-v.current<1&&P()},onLayout:function(e){v.current=e.nativeEvent.layout.height}}),l.a.createElement(s.default,{style:{position:"absolute"}},l.a.createElement(xe,{channel_id:h})),l.a.createElement(W.View,{style:{bottom:0,width:"100%",paddingTop:15,paddingBottom:10,paddingHorizontal:19}},l.a.createElement(s.default,{style:{alignItems:"center",width:"100%",flexDirection:"row"}},l.a.createElement(k.default,{title:"",style:{height:40,paddingTop:8,borderTopRightRadius:0,borderBottomRightRadius:0},onPress:function(){return ce(!le)}},l.a.createElement(s.default,{style:{top:-2}},l.a.createElement(ve.default,{name:le?"cross":"plus",size:24,color:H.default[ie].text}))),q&&l.a.createElement(k.default,{style:{height:40,paddingTop:8,borderRadius:0},title:"\u231a"+(fe=q,Ee(Oe()(fe),Oe()())),onPress:function(){E(ye.default,{datetime:q,callback:function(e){return K(e)}}),ce(!1)}}),l.a.createElement(g.TextInput,{ref:j,value:U,onChangeText:G,style:{flex:1,borderWidth:1,height:40,borderColor:H.default.borderColor,backgroundColor:H.default[ie].background,color:H.default[ie].text},onSubmitEditing:se,blurOnSubmit:!0,onFocus:function(){return ce(!1)}}),l.a.createElement(k.default,{style:{height:40,paddingTop:8,borderTopLeftRadius:0,borderBottomLeftRadius:0},title:"\ud83d\udcac",onPress:se})),le&&l.a.createElement(s.default,{style:{alignItems:"center",width:"100%",flexDirection:"row",paddingTop:15,paddingBottom:5}},l.a.createElement(k.default,{style:{height:80,flex:1,justifyContent:"center",marginRight:15},title:"\ud83d\udce4\n "+u("Upload File"),onPress:function(){return new Promise((function(e,t){if("web"==b.default.OS){var n=document.createElement("input");n.type="file",n.onchange=function(t){e(t.target.files[0])},n.onabort=t,n.onerror=t,n.click()}else e(void 0)})).then((function(e){var t;de.create({channel:h,user:null==(t=O.user)?void 0:t.id,content:"",file:e}),ce(!1)}))}}),l.a.createElement(k.default,{style:{height:80,flex:1,justifyContent:"center",marginRight:15},title:"\u231a\n "+u("Timer Message"),onPress:function(){E(ye.default,{datetime:q,callback:function(e){return K(e)}}),ce(!1)}}),l.a.createElement(k.default,{style:{height:80,flex:1,justifyContent:"center"},title:"\ud83d\udcf9\n "+u("Video Call"),onPress:function(){re(!ne),ce(!1)},disabled:ne})))))},path:"chat"},InviteeScreen:{title:"",component:Be,path:"invitee"}},He={LoginScreen:{path:"login",title:"Sign in",component:function(e){var t=e.navigation,n=e.route,r=Object(m.default)().lang,d=Object(o.useState)(""),p=a()(d,2),b=p[0],g=p[1],h=Object(o.useState)(""),y=a()(h,2),v=y[0],O=y[1],w=Object(f.default)(),x=w.error,S=w.dispatch,k=function(){return S({type:"LOGIN_REQUEST",username:b,password:v})};return Object(o.useLayoutEffect)((function(){t.setOptions({headerRight:void 0})}),[t,n]),l.a.createElement(s.default,{style:E.login_container},l.a.createElement(s.default,{style:E.login_wrapper},l.a.createElement(s.default,{style:E.form},x&&l.a.createElement(s.default,{style:E.form_error},l.a.createElement(c.default,{style:E.form_error_text},r(x))),l.a.createElement(i.default,{style:E.form_input,value:b,placeholder:r("Username"),onChangeText:function(e){return g(e)},autoCapitalize:"none",keyboardType:"email-address",onSubmitEditing:k}),l.a.createElement(i.default,{style:E.form_input,value:v,placeholder:r("Password"),secureTextEntry:!0,onChangeText:function(e){return O(e)},onSubmitEditing:k}),l.a.createElement(u.default,{onPress:k},l.a.createElement(s.default,{style:E.button},l.a.createElement(c.default,{style:E.button_label},r("Sign in")))),l.a.createElement(u.default,{onPress:function(){return S({type:"LOGIN_GUEST"})}},l.a.createElement(c.default,{style:E.guest_footer_text},r("Sign in as guest")))),l.a.createElement(s.default,{style:E.login_social},l.a.createElement(s.default,{style:E.login_social_separator},l.a.createElement(s.default,{style:E.login_social_separator_line}),l.a.createElement(c.default,{style:E.login_social_separator_text},"*"),l.a.createElement(s.default,{style:E.login_social_separator_line})),l.a.createElement(s.default,{style:E.login_social_buttons}))),l.a.createElement(j,null))}},InviteeScreen:{path:"invitee",title:"",component:Be}},We={}},164:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n(6),a=n.n(r),o=n(0),l=n.n(o),c=n(2),i=n(22),u=n(50),s=n(47),d=n(118),f=n(101),m=n(219),p=n(66),b=n(51),g=n(124);function h(e){var t=e.id,n=e.type,r=Object(b.default)().lang,c=Object(s.default)().auth,v=Object(p.default)().setModal,j=Object(f.default)(c),O=Object(f.useMessengerChannelMutation)(),E=null==j?void 0:j.find((function(e){return e.id==t})),w=Object(o.useState)(""),x=a()(w,2),S=x[0],k=x[1],C=Object(o.useState)(""),P=a()(C,2),M=P[0],T=P[1];return Object(o.useEffect)((function(){E&&(k(E.name),T((null==E?void 0:E.description)||""))}),[E]),l.a.createElement(g.default,null,l.a.createElement(i.View,{style:{justifyContent:"space-between",flex:1,width:"100%"}},l.a.createElement(i.View,{style:{width:"100%"}},l.a.createElement(i.Text,{style:{fontSize:20}},r("New chat")),l.a.createElement(i.View,{style:y.separator,lightColor:"#ddd",darkColor:"rgba(255,255,255, 0.3)"}),l.a.createElement(m.default,{name:r("Channel Name"),value:S,setValue:k,width:"60%"}),l.a.createElement(m.default,{name:r("Description"),value:M,setValue:T,multiline:!0,width:"60%"})),l.a.createElement(i.View,{style:{width:"100%",flexDirection:"row",justifyContent:"flex-end"}},l.a.createElement(u.default,{title:r("save"),onPress:function(){var e;if(null!=c&&null!=(e=c.user)&&e.id&&c.groupId){var r,a={id:t,name:S,description:M,type:n,owner:null==c||null==(r=c.user)?void 0:r.id,group:c.groupId};(t?O.update(a):O.create(a)).then((function(e){return Object(d.navigate)("Main",{screen:"messenger"==e.type?"ChatScreen":"BoardScreen",params:{id:e.id}})}))}}}),l.a.createElement(u.default,{title:r("cancel"),style:{marginHorizontal:5},onPress:function(){v(h,null)}}))))}var y=c.default.create({field:{width:"50%",flexDirection:"row",padding:10},separator:{marginBottom:20,height:1,width:"100%"}})},166:function(e,t,n){"use strict";n.r(t),n.d(t,"getNotification",(function(){return l})),n.d(t,"postNotification",(function(){return c})),n.d(t,"putNotification",(function(){return i}));var r=n(7),a=n.n(r),o=n(43),l=function(e){var t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(o.default.get("/api/v1/notifications/?type=WEB&user="+e));case 2:return t=n.sent.data,n.abrupt("return",t.length?t[0]:void 0);case 4:case"end":return n.stop()}}),null,null,null,Promise)},c=function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(o.default.post("/api/v1/notifications/",e));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),null,null,null,Promise)},i=function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(o.default.put("/api/v1/notifications/"+e.id+"/",e));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),null,null,null,Promise)}},179:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n(323),o=n.n(a);t.default=function(){return o()().isMobile()||"android"==r.default.OS||"ios"==r.default.OS}},206:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n(7),a=n.n(r),o=n(54),l=n(62);function c(e){return Object(o.useQuery)(["UserMembershipList",null==e?void 0:e.groupId],(function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e||!e.groupId){t.next=6;break}return t.next=3,a.a.awrap(Object(l.getUserMembershipList)(null==e?void 0:e.groupId));case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=[];case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}}),null,null,null,Promise)})).data}},207:function(e,t,n){"use strict";n.r(t);var r=n(30),a=n.n(r),o=n(3),l=n.n(o),c=n(21),i=n.n(c),u=n(6),s=n.n(u),d=n(0),f=n.n(d),m=n(355),p=n(51);t.default=function(e){var t=Object(p.default)().lang,n=f.a.useState(e.index||0),r=s()(n,2),o=r[0],c=r[1],u=Object.entries(e.tabs),d=e.onTab,b=Object.assign.apply(Object,[{}].concat(i()(u.map((function(e){var t=s()(e,2),n=t[0],r=t[1];return l()({},n,r.icon)})))));return f.a.createElement(m.TabView,{renderTabBar:function(e){return f.a.createElement(m.TabBar,a()({},e,{indicatorStyle:{backgroundColor:"#2196F3"},style:{backgroundColor:"white"},activeColor:"black",inactiveColor:"black",renderIcon:function(e){return b[e.route.key]},onTabPress:function(e){return null==d?void 0:d(u.findIndex((function(t){var n=s()(t,2),r=n[0];n[1];return r==e.route.key})))}}))},navigationState:{index:o,routes:u.map((function(e){var n=s()(e,2),r=n[0],a=n[1];return{key:r,title:t(a.title)}}))},onIndexChange:c,renderScene:Object(m.SceneMap)(Object.assign.apply(Object,[{}].concat(i()(u.map((function(e){var t=s()(e,2),n=t[0],r=t[1];return l()({},n,r.component)})))))),tabBarPosition:e.tabBarPosition})}},208:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n(6),a=n.n(r),o=n(0),l=n(22),c=n(2),i=n(150),u=n(41);function s(e){var t=o.useState(!1),n=a()(t,2),r=(n[0],n[1]),c=o.useState(!1),u=a()(c,2),s=u[0],f=u[1];return o.createElement(i.default,{style:[d.outerContainer,e.outerContainerStyle,s?{backgroundColor:"rgb(242,242,242)"}:{}],onPressIn:function(){f(!0)},onPressOut:function(){f(!1),null==e.onPress||e.onPress()},onHoverIn:function(){return r(!0)},onHoverOut:function(){return r(!1)}},o.createElement(l.View,{style:[d.container,e.containerStyle]},o.createElement(l.View,{style:[d.bodyView,e.bodyStyle]},o.createElement(o.Fragment,null,e.children))))}var d=c.default.create({outerContainer:{width:"100%",maxWidth:1080,alignItems:"stretch"},container:{marginHorizontal:20,backgroundColor:"transparent"},bodyView:{width:"100%",padding:10,minHeight:40,alignItems:"center",justifyContent:"center",borderBottomWidth:1,borderColor:u.default.borderColor,backgroundColor:"transparent"}})},219:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n(0),a=n.n(r),o=n(326),l=n(22),c=n(70);function i(e){var t=Object(c.default)(),n=Object(r.useMemo)((function(){return"landscape"==t?{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}:{flexDirection:"column",alignItems:"flex-start"}}),[t]);return a.a.createElement(l.View,{style:[{paddingVertical:5,width:"100%"},n]},a.a.createElement(l.Text,{style:["landscape"==t?{flex:1}:{width:"100%"},{paddingHorizontal:15,fontSize:16},e.textStyle]},e.name),a.a.createElement(l.View,{style:["landscape"==t?{flex:6}:{width:"100%"},{paddingHorizontal:15}]},a.a.createElement(l.View,{style:{width:e.width}},e.children)))}function u(e){return a.a.createElement(i,{name:e.name,width:e.width,textStyle:e.textStyle},a.a.createElement(o.default,e))}},22:function(e,t,n){"use strict";n.r(t),n.d(t,"useThemeColor",(function(){return p})),n.d(t,"Text",(function(){return b})),n.d(t,"View",(function(){return g}));var r=n(30),a=n.n(r),o=n(5),l=n.n(o),c=n(0),i=n(28),u=n(1),s=n(41),d=n(64),f=["style","lightColor","darkColor"],m=["style","lightColor","darkColor"];function p(e,t){var n=Object(d.default)(),r=e[n];return r||s.default[n][t]}function b(e){var t=e.style,n=e.lightColor,r=e.darkColor,o=l()(e,f),u=p({light:n,dark:r},"text");return c.createElement(i.default,a()({style:[{color:u},t]},o))}function g(e){var t=e.style,n=e.lightColor,r=e.darkColor,o=l()(e,m),i=p({light:n,dark:r},"background");return c.createElement(u.default,a()({style:[{backgroundColor:i},t]},o))}},242:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return z}));var r=n(3),a=n.n(r),o=n(6),l=n.n(o),c=n(21),i=n.n(c),u=n(0),s=n.n(u),d=n(50),f=n(66),m=n(184),p=n(22),b=n(51),g=n(936),h=n(61),y=n(41),v=n(64),j=n(124),O=n(10),E=n.n(O),w=n(28),x=n(1),S=n(354);E.a.locale("ko"),S.LocaleConfig.locales.ko={monthNames:E.a.months(),monthNamesShort:E.a.monthsShort(),dayNames:E.a.weekdays(),dayNamesShort:E.a.weekdaysShort(),today:"\uc624\ub298"},S.LocaleConfig.defaultLocale="ko";function k(e){return s.a.createElement(x.default,null,s.a.createElement(S.Calendar,{markingType:e.markingType,markedDates:e.markedDates,renderArrow:function(e){return s.a.createElement(w.default,null,"left"==e?"\uc774\uc804":"\ub2e4\uc74c")},monthFormat:"yyyy\ub144 MM\uc6d4",initialDate:e.date,disableAllTouchEventsForDisabledDays:e.disableAllTouchEventsForDisabledDays,onMonthChange:e.onMonthChange,onDayPress:function(t){return null==e.setDate?void 0:e.setDate(t.dateString)},current:e.date,style:[{width:400},e.style],dayComponent:e.dayComponent}))}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=["AM","PM"].map((function(e){return{label:e,value:e}})),T=i()(Array(12).keys()).map((function(e,t){return(t+1).toString().padStart(2,"0")})).map((function(e){return{label:e,value:e}})),D=i()(Array(12).keys()).map((function(e,t){return(5*t).toString().padStart(2,"0")})).map((function(e){return{label:e,value:e}})),_=function(e){for(var t=e.clone().startOf("month").add(-1,"month"),n=e.clone().endOf("month").add(1,"month"),r=E()().startOf("day"),a=[];t<=n&&t<r;)a.push(t.format(E.a.HTML5_FMT.DATE)),t.add(1,"day");return a};function z(e){var t=e.datetime,n=e.callback,r=t?E()(t):function(){var e=E()(),t=parseInt(e.format("mm"))%5;return e.add(5-t,"minute"),e}(),a=Object(b.default)().lang,o=Object(v.default)(),c=Object(u.useState)(r.format(E.a.HTML5_FMT.DATE)),i=l()(c,2),O=i[0],w=i[1],x=Object(u.useState)(r.locale("en").format("A")),S=l()(x,2),C=S[0],I=S[1],L=Object(u.useState)(r.format("hh")),R=l()(L,2),V=R[0],B=R[1],A=Object(u.useState)(r.format("mm")),H=l()(A,2),W=H[0],U=H[1],N=Object(u.useState)(_(r)),F=l()(N,2),G=F[0],Q=F[1],J=Object(f.default)().setModal,q=function(){J(z,null)};return s.a.createElement(j.BottomSheet,null,s.a.createElement(p.View,{style:{flexDirection:"row",width:"100%"}},s.a.createElement(p.View,{style:{flex:1,flexDirection:"row"}},s.a.createElement(h.TouchableOpacity,{onPress:q},s.a.createElement(g.default,{size:20,name:"arrow-back",color:y.default[o].text}))),s.a.createElement(p.View,{style:{flex:1}},s.a.createElement(p.Text,{style:{fontSize:20,textAlign:"center"}},a("Date & Time"))),s.a.createElement(p.View,{style:{flex:1}})),s.a.createElement(p.View,{style:{marginBottom:20,height:1,width:"100%"},lightColor:"#ddd",darkColor:"rgba(255,255,255, 0.3)"}),s.a.createElement(k,{style:void 0,setDate:w,disableAllTouchEventsForDisabledDays:!0,onMonthChange:function(e){return Q(_(E()(e.dateString)))},markedDates:P(P({},G.reduce((function(e,t){return e[t]={disabled:!0},e}),{})),(O?[O]:[]).reduce((function(e,t){return e[t]={selected:!0},e}),{}))}),s.a.createElement(p.View,{style:{flexDirection:"row",padding:5}},s.a.createElement(m.Picker,{selectedValue:C,onValueChange:I},M.map((function(e){return s.a.createElement(m.Picker.Item,{key:e.value,label:e.label,value:e.value})}))),s.a.createElement(p.Text,null," "),s.a.createElement(m.Picker,{selectedValue:V,onValueChange:B},T.map((function(e){return s.a.createElement(m.Picker.Item,{key:e.value,label:e.label,value:e.value})}))),s.a.createElement(p.Text,null," : "),s.a.createElement(m.Picker,{selectedValue:W,onValueChange:U},D.map((function(e){return s.a.createElement(m.Picker.Item,{key:e.value,label:e.label,value:e.value})})))),s.a.createElement(p.View,{style:{flexDirection:"row"}},s.a.createElement(d.default,{title:a("save"),onPress:function(){null==n||n(E()(O+" "+V+":"+W+" "+C).format(E.a.HTML5_FMT.DATETIME_LOCAL)),q()}}),s.a.createElement(d.default,{title:a("cancel"),onPress:function(){null==n||n(void 0),q()}})))}},324:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n(0),a=n.n(r),o=n(47),l=n(50),c=n(66),i=n(22),u=n(51),s=n(124);function d(e){e.id;var t=Object(u.default)().lang,n=Object(c.default)().setModal,r=Object(o.default)().dispatch;return a.a.createElement(s.BottomSheet,null,a.a.createElement(i.Text,null,t("Guest users cannot reconnect after logging out. Please create an account or log in.")),a.a.createElement(i.View,{style:{width:"100%",flexDirection:"row",justifyContent:"flex-end"}},a.a.createElement(l.default,{title:t("sign out"),onPress:function(){return r({type:"LOGOUT_REQUEST"})}}),a.a.createElement(l.default,{title:t("cancel"),onPress:function(){n(d,null)}})))}},326:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n.n(r),o=n(0),l=n.n(o),c=n(53),i=n(41),u=n(64);t.default=function(e){var t=Object(o.useState)(),n=a()(t,2),r=n[0],s=n[1],d=e.minHeight||30,f=Object(u.default)();return l.a.createElement(c.default,{style:[{borderColor:"#d0d7de",fontSize:16,borderWidth:1,borderRadius:6,paddingHorizontal:10,paddingVertical:3,backgroundColor:i.default[f].background,color:i.default[f].text,height:e.multiline?r:d},e.style],editable:!e.disabled,value:e.value,onChangeText:e.setValue,onContentSizeChange:e.multiline?function(e){return s(Math.max(e.nativeEvent.contentSize.height,d)+2)}:void 0,onBlur:function(){return null==e.onBlur?void 0:e.onBlur(e.value)},onEndEditing:function(){return null==e.onEndEditing?void 0:e.onEndEditing(e.value)},multiline:e.multiline})}},327:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(28),l=n(1),c=n(208),i=n(139);t.default=function(e){var t=e.member,n=e.onPress;return a.a.createElement(c.default,{key:t.id,bodyStyle:{backgroundColor:"white",flexDirection:"row",justifyContent:"flex-start"},onPress:n},a.a.createElement(l.default,{style:{marginTop:4,marginRight:12}},a.a.createElement(i.default,{name:t.name,userId:t.id,size:44})),a.a.createElement(o.default,{style:{fontSize:20,fontWeight:"400"}},t.name))}},332:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(0),a=n.n(r),o=n(333),l=n(47),c=n(206),i=n(101),u=n(50),s=n(118),d=n(66),f=n(22),m=n(51),p=n(936),b=n(61),g=n(41),h=n(64),y=n(124);function v(e){var t=e.id,n=Object(m.default)().lang,j=Object(h.default)(),O=Object(l.default)().auth,E=Object(d.default)().setModal,w=Object(c.default)(O),x=null==w?void 0:w.find((function(e){return e.id==t})),S=Object(i.useMessengerChannelMutation)(),k=function(){E(v,null)};return Object(r.useEffect)((function(){t&&x||!w||k()}),[w]),x?a.a.createElement(y.BottomSheet,null,a.a.createElement(f.View,{style:{flexDirection:"row",width:"100%"}},a.a.createElement(f.View,{style:{flex:1,flexDirection:"row"}},a.a.createElement(b.TouchableOpacity,{onPress:k},a.a.createElement(p.default,{size:20,name:"arrow-back",color:g.default[j].text}))),a.a.createElement(f.View,{style:{flex:1}},a.a.createElement(f.Text,{style:{fontSize:20,textAlign:"center"}},n("profile"))),a.a.createElement(f.View,{style:{flex:1}})),a.a.createElement(f.View,{style:{marginBottom:20,height:1,width:"100%"},lightColor:"#ddd",darkColor:"rgba(255,255,255, 0.3)"}),a.a.createElement(o.default,{username:x.username,name:x.name,userId:x.id}),a.a.createElement(u.default,{title:n("1:1 Chat"),onPress:function(){var e;if(null!=O&&null!=(e=O.user)&&e.id&&O.groupId){var t,n={name:O.user.id!=x.id?O.user.name+", "+x.name:O.user.name,type:"messenger",owner:null==O||null==(t=O.user)?void 0:t.id,group:O.groupId,counterpart:x.id};S.direct(n).then((function(e){return Object(s.navigate)("Main",{screen:"ChatScreen",params:{id:e.id}})}))}}})):a.a.createElement(a.a.Fragment,null)}},333:function(e,t,n){"use strict";n.r(t);var r=n(30),a=n.n(r),o=n(6),l=n.n(o),c=n(0),i=n.n(c),u=n(1),s=n(22),d=n(139),f=n(125),m=n(326),p=n(62),b=n(47);t.default=function(e){var t,n=i.a.useState(),r=l()(n,2),o=r[0],c=r[1],g=Object(b.default)(),h=g.auth,y=g.dispatch,v=(null==(t=h.user)?void 0:t.id)==e.userId,j=function(){v&&Object(p.patchUser)({id:e.userId,name:o||""}).finally((function(){c(void 0),y({type:"REFRESH"})}))};return i.a.createElement(u.default,{style:{width:"100%",height:135,justifyContent:"space-evenly",alignItems:"center"}},i.a.createElement(d.default,a()({},e,{size:75})),void 0===o?i.a.createElement(f.default,{textStyle:{fontWeight:"bold",fontSize:15},onPress:function(){return v&&c(e.name)},title:e.name,disabled:!v}):i.a.createElement(m.default,{value:o,style:{textAlign:"center"},setValue:c,onBlur:j,onEndEditing:j}),i.a.createElement(s.Text,{style:{fontWeight:"normal",fontSize:14}},e.username))}},346:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return L}));var r=n(21),a=n.n(r),o=n(6),l=n.n(o),c=n(0),i=n.n(c),u=n(672),s=n.n(u),d=n(22),f=n(47),m=n(206),p=n(50),b=n(128),g=n(66),h=n(7),y=n.n(h),v=n(54),j=n(62);var O=n(219),E=n(3),w=n.n(E);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(e,t){switch(t.type){case"SEARCH":return S(S({},e),{},{keyword:t.keyword});case"ENABLE_SEARCH":return S(S({},e),{},{active:!0});case"DISABLE_SEARCH":return S(S({},e),{},{active:!1,keyword:""});default:throw new Error("Unhandled action type: "+t.type)}};var C=n(207),P=n(61),M=n(51),T=n(327),D=n(124),_=function(e){var t=Object(c.useState)(e.selectedRef.current.has(e.item.id)),n=l()(t,2),r=n[0],a=n[1];return i.a.createElement(d.View,{style:r?{borderWidth:1,borderColor:"blue"}:{}},i.a.createElement(T.default,{member:e.item,onPress:function(){r?(a(!1),e.selectedRef.current.delete(e.item.id)):(a(!0),e.selectedRef.current.add(e.item.id))}}))},z=function(e){var t=e.id,n=e.selectedRef,r=Object(M.default)().lang,o=Object(f.default)().auth,u=Object(g.default)().setModal,s=Object(m.default)(o),h=Object(b.default)(t),y=Object(b.useMessengerMemberMutation)(),v=function(e,t){var n=Object(c.useReducer)(k,{active:!1,keyword:""}),r=l()(n,2),a=r[0],o=r[1],i=Object(c.useMemo)((function(){return a.active?e.filter((function(e){return t(e,a.keyword)})):e}),[a,e]);return{searchState:a,dispatch:o,data:i}}(Object(c.useMemo)((function(){var e=new Set(null==h?void 0:h.map((function(e){return e.user})));return(null==s?void 0:s.filter((function(t){return!e.has(t.id)})))||[]}),[s,h]),(function(e,t){return e.username.includes(t)||e.name.includes(t)})),j=v.data,E=v.dispatch,w=v.searchState,x=function(){u(L,null)};return i.a.createElement(d.View,{style:{alignItems:"center",flex:1}},i.a.createElement(d.View,{style:{width:"100%",flex:1}},i.a.createElement(O.default,{name:r("Username")+" & "+r("Name"),value:w.keyword,setValue:function(e){(null==e?void 0:e.length)>0?(E({type:"ENABLE_SEARCH"}),E({type:"SEARCH",keyword:e})):E({type:"DISABLE_SEARCH"})},width:"80%"}),t&&j&&i.a.createElement(P.FlatList,{contentContainerStyle:{flexGrow:1},data:j,renderItem:function(e){var t=e.item;return i.a.createElement(_,{item:t,selectedRef:n})}})),i.a.createElement(d.View,{style:[{width:"100%",flexDirection:"row",padding:10},{justifyContent:"flex-end"}]},i.a.createElement(p.default,{title:r("invite"),onPress:function(){y.invite({channel_id:t,user_ids:a()(n.current)}).then(x)}}),i.a.createElement(p.default,{title:r("cancel"),onPress:x})))},I=function(e){var t=e.id,n=e.selectedRef,r=Object(M.default)().lang,o=Object(c.useState)(""),u=l()(o,2),f=u[0],m=u[1],h=Object(c.useState)(""),E=l()(h,2),w=E[0],x=E[1],S=Object(c.useState)(!1),k=l()(S,2),C=k[0],T=k[1],D=Object(c.useRef)(),z=Object(g.default)().setModal,I=Object(b.default)(t),R=function(e){return Object(v.useQuery)(["UserMembershipList",e],(function(){return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return t.next=3,y.a.awrap(Object(j.getExternalMembershipList)(e));case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=[];case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}}),null,null,null,Promise)})).data}(w),V=Object(c.useMemo)((function(){var e=new Set(null==I?void 0:I.map((function(e){return e.user})));return(null==R?void 0:R.filter((function(t){return!e.has(t.id)})))||[]}),[R,I]),B=Object(b.useMessengerMemberMutation)();Object(c.useEffect)((function(){return D.current=setTimeout((function(){x(f)}),500),function(){D.current&&clearTimeout(D.current)}}),[f]);var A=function(){z(L,null)},H=location.href.replace("chat","invitee");return i.a.createElement(d.View,{style:{alignItems:"center",flex:1}},i.a.createElement(P.TouchableOpacity,{style:{paddingVertical:10,flexDirection:"row"},onPress:function(){s.a.setString(H),T(!0)}},i.a.createElement(d.Text,{style:{fontSize:14}},r("invite link"),": "),i.a.createElement(d.Text,{style:{fontSize:14,color:"#12b886"}},H," "),C&&i.a.createElement(d.Text,{style:{fontSize:12,color:"red"}},r("copied"))),i.a.createElement(d.View,{style:{width:"100%",flex:1}},i.a.createElement(O.default,{name:r("Username"),value:f,setValue:m,width:"80%"}),t&&V&&i.a.createElement(P.FlatList,{contentContainerStyle:{flexGrow:1},data:V,renderItem:function(e){var t=e.item;return i.a.createElement(_,{item:t,selectedRef:n})}})),i.a.createElement(d.View,{style:[{width:"100%",flexDirection:"row",padding:10},{justifyContent:"flex-end"}]},i.a.createElement(p.default,{title:r("invite"),onPress:function(){B.invite({channel_id:t,user_ids:a()(n.current)}).then(A)}}),i.a.createElement(p.default,{title:r("cancel"),onPress:A})))};function L(e){var t=e.id,n=Object(M.default)().lang,r=Object(c.useRef)(new Set),a={group:{title:"Group",component:function(){return i.a.createElement(z,{id:t,selectedRef:r})},icon:i.a.createElement(i.a.Fragment,null)},external:{title:"External members",component:function(){return i.a.createElement(I,{id:t,selectedRef:r})},icon:i.a.createElement(i.a.Fragment,null)}};return i.a.createElement(D.default,null,i.a.createElement(d.View,{style:{flex:1,width:"100%"}},i.a.createElement(d.View,{style:{width:"100%"}},i.a.createElement(d.Text,{style:{fontSize:20}},n("invite")),i.a.createElement(d.View,{style:{marginBottom:20,height:1,width:"100%"},lightColor:"#ddd",darkColor:"rgba(255,255,255, 0.3)"})),i.a.createElement(C.default,{tabs:a,tabBarPosition:"top"})))}},41:function(e,t,n){"use strict";n.r(t);t.default={light:{text:"#000",background:"#fff",tint:"#2f95dc",tabIconDefault:"#ccc",tabIconSelected:"#2f95dc",header:"#24292f",buttonColor:"rgb(242,242,242)",buttonBackgroundColor:"#f6f8fa",buttonBorderColor:"rgba(27,31,36,0.15)"},dark:{text:"#fff",background:"#000",tint:"#fff",tabIconDefault:"#ccc",tabIconSelected:"#fff",header:"#dbd6d1",buttonColor:"rgb(14,14,14)",buttonBackgroundColor:"#282624",buttonBorderColor:"rgba(229,225,220,0.15)"},borderColor:"#d0d7de",focus:"#0065A4"}},43:function(e,t,n){"use strict";n.r(t),n.d(t,"accountURL",(function(){return c})),n.d(t,"setToken",(function(){return s})),n.d(t,"getToken",(function(){return d}));var r=n(7),a=n.n(r),o=n(689),l=n(110),c="https://blacktokki.com/account/",i={baseURL:"https://blacktokki.com/messenger/",withCredentials:!0,headers:{}},u=o.default.create(i);u.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),u.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status?d().then((function(e){var t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=5;break}return n.next=3,a.a.awrap(u.post("/api/v1/user/sso/refresh/",{token:e},{headers:{Authorization:""},baseURL:c}));case 3:200==(t=n.sent).status&&""!==t.data&&s(t.data);case 5:case"end":return n.stop()}}),null,null,null,Promise)})).finally((function(){return Promise.reject(e)})):Promise.reject(e)}));var s=function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(u.defaults.headers.Authorization="JWT "+e,!e){t.next=6;break}return t.next=4,a.a.awrap(l.default.setItem("Authorization",e));case 4:t.next=7;break;case 6:l.default.removeItem("Authorization");case 7:case"end":return t.stop()}}),null,null,null,Promise)},d=function(){var e;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(l.default.getItem("Authorization"));case 2:return e=t.sent,u.defaults.headers.Authorization=e?"JWT "+e:null,t.abrupt("return",e);case 5:case"end":return t.stop()}}),null,null,null,Promise)};t.default=u},47:function(e,t,n){"use strict";n.r(t),n.d(t,"AuthProvider",(function(){return b}));var r=n(6),a=n.n(r),o=n(3),l=n.n(o),c=n(0),i=n.n(c),u=n(62),s=n(166);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=Object(c.createContext)({auth:{},dispatch:function(){}}),p=function(e,t){switch(t.type){case"LOGIN_REQUEST":return f(f({},e),{},{request:{username:t.username,password:t.password}});case"LOGIN_GUEST":return f(f({},e),{},{request:{username:"guest",password:"guest"}});case"LOGIN_SUCCESS":return f(f({},e),{},{user:t.user,request:void 0});case"LOGIN_FAILED":return f(f({},e),{},{request:void 0});case"LOGOUT_REQUEST":return f(f({},e),{},{request:null});case"LOGOUT_SUCCESS":return f(f({},e),{},{user:null,request:void 0});case"REFRESH":return f(f({},e),{},{user:void 0});default:throw new Error("Unhandled action type: "+t.type)}},b=function(e){var t=e.children,n=Object(c.useReducer)(p,{}),r=a()(n,2),o=r[0],l=r[1],d=Object(c.useState)(),b=a()(d,2),g=b[0],h=b[1],y=Object(c.useMemo)((function(){var e,t;return{user:o.user,groupId:null==(e=o.user)||null==(t=e.membership_set.find((function(e){return null==e.root_group_id})))?void 0:t.group}}),[o]);return Object(c.useEffect)((function(){void 0===o.user?Object(u.checkLogin)().then((function(e){l({type:"LOGIN_SUCCESS",user:e})})).catch((function(e){console.log(e),l({type:"LOGOUT_SUCCESS"})})):null===o.user&&o.request?Object(u.login)(o.request.username,o.request.password).then((function(e){l({type:"LOGIN_SUCCESS",user:e})})).catch((function(e){var t,n;l({type:"LOGIN_FAILED"}),h(null==(t=e.response)||null==(n=t.data)?void 0:n.message)})):o.user&&null===o.request&&Object(s.getNotification)(o.user.id).then((function(e){e&&Object(s.putNotification)(f(f({},e),{},{token:""})).then((function(){Object(u.logout)().then((function(){return l({type:"LOGOUT_SUCCESS"})}))}))}))}),[o]),i.a.createElement(m.Provider,{value:{auth:y,error:g,dispatch:l}},t)};t.default=function(){return Object(c.useContext)(m)}},50:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),o=n(6),l=n.n(o),c=n(0),i=n.n(c),u=n(28),s=n(2),d=n(150),f=n(41),m=n(64);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){var t=Object(c.useState)(!1),n=l()(t,2),r=n[0],a=n[1];return i.a.createElement(d.default,{onPress:function(){return e.onPress()},onHoverIn:function(){return a(!0)},onHoverOut:function(){return a(!1)},disabled:e.disabled,style:[{paddingVertical:5,paddingHorizontal:16},e.style,r||e.disabled?{backgroundColor:e.color}:{}]},e.children?e.children:i.a.createElement(u.default,{selectable:!1,style:[{fontSize:14},e.textStyle]},e.title))};t.default=function(e){var t=Object(m.default)(),n=b(b({color:f.default[t].buttonColor},e),{},{style:[h.style,{backgroundColor:f.default[t].buttonBackgroundColor,borderColor:f.default[t].buttonBorderColor},e.style],textStyle:[h.text,{color:f.default[t].text},e.textStyle]});return i.a.createElement(g,n)};var h=s.default.create({style:{borderRadius:6,borderWidth:1},text:{textAlign:"center",fontWeight:"600"}})},51:function(e,t,n){"use strict";n.r(t),n.d(t,"IntlProvider",(function(){return v}));var r,a=n(6),o=n.n(a),l=n(0),c=n.n(l),i=n(110),u=n(944),s=n(74),d=n(26),f=n(643),m={ko:n(727)},p=null!=(r=f.findBestLanguageTag(Object.keys(m)))?r:{languageTag:"en",isRTL:!1},b=p.languageTag,g=p.isRTL;d.default.forceRTL(g);var h=Object(u.createIntl)({defaultLocale:"en",locale:b,messages:m[b]},Object(s.createIntlCache)()),y=Object(l.createContext)({setLocale:function(){}}),v=function(e){var t=e.children,n=Object(l.useState)(!1),r=o()(n,2),a=r[0],u=r[1],s=Object(l.useState)(),d=o()(s,2),f=d[0],m=d[1];return Object(l.useEffect)((function(){i.default.getItem("locale").then((function(e){m(e||void 0),u(!0)}))}),[]),a?c.a.createElement(y.Provider,{value:{locale:f,setLocale:m}},t):c.a.createElement(c.a.Fragment,null)};t.default=function(){var e=Object(l.useContext)(y),t=e.locale,n=e.setLocale;return{lang:function(e,n){return"en"==t||0==e.length?e:void 0!=t&&"auto"!=t?m[t][e]:h.formatMessage({id:e,defaultMessage:e},n).toString()},locale:t,setLocale:function(e){i.default.setItem("locale",e).then((function(){return n(e)}))}}}},62:function(e,t,n){"use strict";n.r(t),n.d(t,"login",(function(){return l})),n.d(t,"logout",(function(){return c})),n.d(t,"guestLogin",(function(){return i})),n.d(t,"checkLogin",(function(){return s})),n.d(t,"getUserList",(function(){return d})),n.d(t,"patchUser",(function(){return f})),n.d(t,"getUserMembershipList",(function(){return m})),n.d(t,"getExternalMembershipList",(function(){return p})),n.d(t,"getMessengerChannelList",(function(){return v})),n.d(t,"postChannel",(function(){return j})),n.d(t,"postDirectChannel",(function(){return O})),n.d(t,"putChannel",(function(){return E})),n.d(t,"deleteChannel",(function(){return w})),n.d(t,"getMessengerMemberList",(function(){return x})),n.d(t,"postBulkMessengerMember",(function(){return S})),n.d(t,"deleteMessengerMember",(function(){return k})),n.d(t,"getMessengerContentList",(function(){return C})),n.d(t,"getTimerMessageContentList",(function(){return P})),n.d(t,"postMessage",(function(){return M})),n.d(t,"deleteMessengerContent",(function(){return T})),n.d(t,"accountURL",(function(){return o.accountURL})),n.d(t,"setToken",(function(){return o.setToken})),n.d(t,"getToken",(function(){return o.getToken}));var r=n(7),a=n.n(r),o=n(43),l=function(e,t){var n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.endsWith(".guest")&&0==t.length&&(t="guest"),r.next=3,a.a.awrap(o.default.post("/api-token-auth/",{username:e,password:t}));case 3:if(200!=(n=r.sent).status){r.next=10;break}return r.next=7,a.a.awrap(Object(o.setToken)(n.data));case 7:return r.next=9,a.a.awrap(s());case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}}),null,null,null,Promise)},c=function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(Object(o.setToken)(null));case 2:return e.next=4,a.a.awrap(o.default.get("/api-auth/logout/"));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),null,null,null,Promise)},i=function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(l("guest","guest"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),null,null,null,Promise)},u=function(){var e,t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(o.default.get("/api/v1/users/memberships/?_self=true"));case 2:if(n.t0=e=n.sent,null!=n.t0){n.next=7;break}n.t1=void 0,n.next=8;break;case 7:n.t1=e.data;case 8:if(!(t=n.t1)||!t.length){n.next=11;break}return n.abrupt("return",t[0]);case 11:return n.abrupt("return",null);case 12:case"end":return n.stop()}}),null,null,null,Promise)},s=function(){var e,t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(Object(o.getToken)());case 2:if(null!==n.sent){n.next=5;break}return n.abrupt("return",null);case 5:return n.prev=5,n.next=8,a.a.awrap(u());case 8:return n.abrupt("return",n.sent);case 11:if(n.prev=11,n.t0=n.catch(5),e=n.t0,void 0===n.t0.response||401!=n.t0.response.status){n.next=24;break}return n.prev=15,n.next=18,a.a.awrap(u());case 18:return n.abrupt("return",n.sent);case 21:n.prev=21,n.t1=n.catch(15),e=n.t1;case 24:throw t="ERR_NETWORK"==e.code||e.message&&e.message.startsWith("Cannot read"),{error:e,isOffline:t};case 26:case"end":return n.stop()}}),null,null,[[5,11],[15,21]],Promise)},d=function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(o.default.get("/api/v1/users/?group_id="+e));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),null,null,null,Promise)},f=function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(o.default.patch("/api/v1/user/",{ids:[e.id],updated:{name:e.name}},{baseURL:o.accountURL}));case 2:case"end":return t.stop()}}),null,null,null,Promise)},m=function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(o.default.get("/api/v1/users/memberships/?group_id="+e));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),null,null,null,Promise)},p=function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(o.default.get("/api/v1/users/memberships/?username="+e));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),null,null,null,Promise)},b=n(3),g=n.n(b);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(o.default.get("/api/v1/channels/messenger/?type=messenger&messenger_user_id="+e));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),null,null,null,Promise)},j=function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(o.default.post("/api/v1/channels/",e));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),null,null,null,Promise)},O=function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(o.default.post("/api/v1/channels/direct/",e));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),null,null,null,Promise)},E=function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(o.default.put("/api/v1/channels/"+e.id+"/",e));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),null,null,null,Promise)},w=function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(o.default.delete("/api/v1/channels/"+e+"/"));case 2:case"end":return t.stop()}}),null,null,null,Promise)},x=function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(o.default.get("/api/v1/messengermembers/?channel="+e));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),null,null,null,Promise)},S=function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(o.default.post("/api/v1/messengermembers/bulk/",{channel:e.channel_id,user_ids:e.user_ids}));case 2:case"end":return t.stop()}}),null,null,null,Promise)},k=function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(o.default.delete("/api/v1/messengermembers/"+e+"/"));case 2:case"end":return t.stop()}}),null,null,null,Promise)},C=function(e,t){var n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t?"&id_lt="+t:"",r.next=3,a.a.awrap(o.default.get("/api/v1/messengercontents/?limit=30&channel="+e+n));case 3:return r.abrupt("return",r.sent.data.results);case 4:case"end":return r.stop()}}),null,null,null,Promise)},P=function(e,t){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(o.default.get("/api/v1/messengercontents/?channel="+e+"&timer_gt="+t));case 2:return n.abrupt("return",n.sent.data);case 3:case"end":return n.stop()}}),null,null,null,Promise)},M=function(e){var t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.file){n.next=8;break}return(t=new FormData).append("file",e.file),Object.entries(e).forEach((function(e){t.append(e[0],""+e[1])})),n.next=6,a.a.awrap(o.default.post("/api/v1/messengercontents/messages/",t,{headers:y(y({},o.default.defaults.headers),{},{"Content-Type":"multipart/form-data"})}));case 6:n.next=10;break;case 8:return n.next=10,a.a.awrap(o.default.post("/api/v1/messengercontents/messages/",e));case 10:case"end":return n.stop()}}),null,null,null,Promise)},T=function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(o.default.delete("/api/v1/messengercontents/"+e+"/"));case 2:case"end":return t.stop()}}),null,null,null,Promise)}},636:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),o=n(691),l=n(143);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object.values(l.modal).forEach((function(e){return e.path="tokki-tok/"+e.path})),t.default={prefixes:[o.makeUrl("/")],config:{screens:i({Main:{screens:i(i(i({},l.main),l.login),{},{NotFound:"*"}),path:"tokki-tok"}},l.modal)}}},64:function(e,t,n){"use strict";n.r(t),n.d(t,"useInitColorScheme",(function(){return u})),n.d(t,"setColorScheme",(function(){return s})),n.d(t,"default",(function(){return d}));var r=n(6),a=n.n(r),o=n(110),l=n(238),c=n(0),i=n(178);function u(){var e=Object(c.useState)(!1),t=a()(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){n||o.default.getItem("color").then((function(e){i.Appearance.set({colorScheme:null==e?"no-preference":e}),r(!0)}))}),[n]),n}function s(e){o.default.setItem("color",e).then((function(){return i.Appearance.set({colorScheme:e})}))}function d(){var e=Object(l.default)().dark;return Object(c.useMemo)((function(){return e?"dark":"light"}),[e])}},66:function(e,t,n){"use strict";n.r(t),n.d(t,"ModalsProvider",(function(){return p}));var r=n(3),a=n.n(r),o=n(6),l=n.n(o),c=n(0),i=n.n(c),u=n(286),s=n(70);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=Object(c.createContext)({setModal:function(){}}),p=function(e){var t=e.children,n=e.modals,r=Object(c.useState)([]),a=l()(r,2),o=a[0],d=a[1],p=Object(s.default)(),b=Object(c.useState)("none"),g=l()(b,2),h=g[0],y=g[1];return Object(c.useEffect)((function(){0==o.filter((function(e){return e.visible})).length&&y("landscape"==p?"fade":"slide")}),[p]),Object(c.useEffect)((function(){d(n.map((function(e){return{Component:e,props:null,visible:!1}})))}),[n]),i.a.createElement(m.Provider,{value:{setModal:function(e,t){var n=o.map((function(n){return null==e?f(f({},n),{},{visible:!1}):n.Component==e?{Component:e,props:null!==t?t:n.props,visible:null!==t}:n}));d(n)}}},t,o.map((function(e,t){var n=e.Component,r=e.props,a=e.visible;return i.a.createElement(u.default,{key:t,animationType:h,visible:a,transparent:!0},i.a.createElement(n,r))})))};t.default=function(){return Object(c.useContext)(m)}},692:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return fe}));var r=n(6),a=n.n(r),o=n(612),l=n(412),c=n(0),i=n.n(c),u=n(1),s=n(936),d=n(70),f=n(2),m=n(28),p=n(58),b=n(51);function g(e){var t=e.navigation,n=Object(b.default)().lang;return c.createElement(u.default,{style:h.container},c.createElement(m.default,{style:h.title},n("This screen doesn't exist.")),c.createElement(p.default,{onPress:function(){return t.replace("HomeScreen")},style:h.link},c.createElement(m.default,{style:h.linkText},n("Go to home screen!"))))}var h=f.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}}),y=n(143),v=n(3),j=n.n(v),O=n(238),E=n(333),w=n(125),x=n(41),S=n(207),k=n(66),C=n(164),P=n(208),M=n(22),T=n(47),D=n(101),_=n(118);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(e){return i.a.createElement(u.default,{style:{flex:1}},e.data.map((function(e,t){return i.a.createElement(P.default,{key:t,containerStyle:{marginHorizontal:0},bodyStyle:{alignItems:"flex-start"},onPress:e.onPress},i.a.createElement(M.Text,{style:{marginLeft:20}},e.name))})))},R={MessengerTab:{title:"messenger",component:function(){var e=Object(T.default)().auth,t=Object(D.useMessengerChannelSorted)(e);return i.a.createElement(L,{data:(t||[]).map((function(e){return I(I({},e),{},{onPress:function(){return Object(_.navigate)("ChatScreen",{id:e.id})}})}))})},icon:i.a.createElement(i.a.Fragment,null)}},V=function(e){var t=e.user,n=Object(O.default)().colors,r=Object(d.default)(),o=Object(c.useState)(0),l=a()(o,2),s=l[0],f=l[1],m=Object(k.default)().setModal,p=[function(){return m(C.default,{type:"messenger"})},function(){return m(C.default,{type:"board"})}];return i.a.createElement(u.default,{style:"landscape"==r?[B.tabBar,{backgroundColor:n.card,borderTopColor:n.border}]:{width:0},pointerEvents:"auto"},i.a.createElement(E.default,{userId:t.id,username:t.username,name:t.name}),"landscape"==r&&i.a.createElement(i.a.Fragment,null,i.a.createElement(u.default,{style:{flexDirection:"row-reverse"}},i.a.createElement(w.default,{title:"+",textStyle:{fontSize:20},style:{borderRadius:20},onPress:p[s]})),i.a.createElement(u.default,{accessibilityRole:"tablist",style:B.content},Object.keys(R).length>1?i.a.createElement(S.default,{tabs:R,tabBarPosition:"top",onTab:f}):i.a.createElement(u.default,{style:{borderTopWidth:1,flex:1,borderColor:n.border}},Object.values(R).map((function(e){var t=e.component;return i.a.createElement(t,{key:e.title})}))))))},B=f.default.create({tabBar:{width:240,elevation:8,borderRightWidth:1,borderColor:x.default.borderColor},content:{flex:1,flexDirection:"row"},tab:{flex:1,alignItems:"center"},label:{textAlign:"center",backgroundColor:"transparent"}}),A=n(123),H=n(140),W=n(61),U=n(7),N=n.n(U),F=n(409),G=(n(931),n(166));function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=n(922),K=q.messagingSenderId,Y="AIzaSyAN2ydKUtznjBlg8DUAPrUPGIVbqdPzv88".split("").map((function(e,t){return(e.charCodeAt(0)^K.charCodeAt(t)).toString(16).padStart(2,"0")})).join(""),X=F.default.initializeApp(J(J({},q),{},{apiKey:"AIzaSyAN2ydKUtznjBlg8DUAPrUPGIVbqdPzv88"})),Z=F.default.messaging(X);Z.onMessage((function(e){if("Notification"in window){if("granted"===Notification.permission){var t=JSON.parse(e.data.message_set)[0];new Notification(e.data.channel_name,{body:e.data.name+": "+t.content})}}else alert("This browser does not support desktop notification")}));var $,ee=function(){var e,t;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N.a.awrap(Notification.requestPermission());case 2:if("granted"!==n.sent){n.next=14;break}return n.next=6,N.a.awrap(navigator.serviceWorker.register("/tokki-tok/firebase-messaging-sw.js?"+Y));case 6:return e=n.sent,console.log("[SW]: SCOPE: ",e.scope),n.next=10,N.a.awrap(Z.getToken({serviceWorkerRegistration:e,vapidKey:"BCCi7wopGYI8EhmFxMwIuB5L0hJOBkWh3Wx7VmilJYMhzd5y75JeNEQY1kdw9_n_WIawgmirphxOr4kmBp9-FnQ"}));case 10:if(t=n.sent,window.addEventListener("beforeunload",(function(t){t.preventDefault(),e.unregister()})),!t){n.next=14;break}return n.abrupt("return",t);case 14:return n.abrupt("return",void 0);case 15:case"end":return n.stop()}}),null,null,null,Promise)},te=function(e,t){var n;return N.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(ne.enable=e,!t||!e){r.next=22;break}return r.next=4,N.a.awrap(ee());case 4:if(r.t0=r.sent,r.t0){r.next=7;break}r.t0=null;case 7:return n=r.t0,r.next=10,N.a.awrap(Object(G.getNotification)(t.id));case 10:if(void 0!=($=r.sent)){r.next=17;break}return r.next=14,N.a.awrap(Object(G.postNotification)({user:t.id,type:"WEB",token:n}));case 14:$=r.sent,r.next=20;break;case 17:return r.next=19,N.a.awrap(Object(G.putNotification)(J(J({},$),{},{token:n})));case 19:$=r.sent;case 20:r.next=25;break;case 22:if(!$){r.next=25;break}return r.next=25,N.a.awrap(Object(G.putNotification)(J(J({},$),{},{token:null})));case 25:case"end":return r.stop()}}),null,null,null,Promise)},ne={enable:!1,setEnable:te},re=Object(c.createContext)(ne),ae=n(179),oe=n(64),le=n(346),ce=n(332),ie=n(324),ue=n(242),se=[le.default,ce.default,C.default,ie.default,ue.default],de=Object(o.default)();function fe(){var e=Object(d.default)();return i.a.createElement(de.Navigator,{mode:"modal",headerMode:"screen",screenOptions:{cardStyle:{backgroundColor:"white"},animationEnabled:!0,cardStyleInterpolator:l.CardStyleInterpolators.forVerticalIOS}},i.a.createElement(de.Screen,{name:"Main",component:pe,options:{headerShown:!1}}),Object.entries(y.modal).map((function(t){var n=a()(t,2),r=n[0],o=n[1];return i.a.createElement(de.Screen,{key:r,name:r,component:o.component,options:{title:o.title,gestureDirection:"landscape"==e?"vertical-inverted":"vertical"}})})))}var me=Object(o.default)();var pe=function(){var e=Object(d.default)(),t=Object(ae.default)(),n=Object(T.default)().auth,r=Object(oe.default)(),o=Object(b.default)(),f=o.lang,m=o.locale,p=Object(c.useMemo)((function(){return void 0===n.user?[]:(console.log("current user: ",n.user),Object.entries(null===n.user?y.login:y.main))}),[n,m]),h=Object(c.useMemo)((function(){return void 0===n.user||null===n.user?[]:se}),[n]);return function(e){Object(c.useEffect)((function(){te(!0,e.user)}),[e.user]),Object(c.useContext)(re)}(n),void 0!==n.user?i.a.createElement(u.default,{style:{flexDirection:"row",flex:1}},i.a.createElement(k.ModalsProvider,{modals:h},n.user?i.a.createElement(V,{user:n.user}):void 0,i.a.createElement(u.default,{style:{flex:1}},i.a.createElement(A.WebSocketProvider,{disable:null===n.user||void 0===n.user},i.a.createElement(me.Navigator,{screenOptions:function(n){var a=n.navigation,o=n.route;return{headerStyle:{backgroundColor:x.default[r].header,height:t?50:void 0},headerTitleStyle:{color:"white"},headerLeft:function(){return function(e,t,n,r){var a=-1==["HomeScreen","LoginScreen"].findIndex((function(e){return e==t.name}));return"portrait"==n&&a?i.a.createElement(W.TouchableOpacity,{onPress:function(){e.canGoBack()?e.goBack():a&&e.replace("HomeScreen")}},i.a.createElement(s.default,{size:r?20:24,style:{marginHorizontal:r?16:20},name:"arrow-back"})):null}(a,o,e,t)},headerRight:function(){return i.a.createElement(H.default,null)},headerLeftContainerStyle:{backgroundColor:"white",borderBottomWidth:1,borderColor:x.default.borderColor},cardStyle:{flexShrink:1},animationEnabled:"portrait"==e,cardStyleInterpolator:l.CardStyleInterpolators.forHorizontalIOS}}},p.map((function(e){var t=a()(e,2),n=t[0],r=t[1];return i.a.createElement(me.Screen,{key:n,name:n,component:r.component,options:{title:f(r.title)}})})),i.a.createElement(me.Screen,{name:"NotFound",component:g,options:{title:"Oops!"}})))))):i.a.createElement(i.a.Fragment,null)}},693:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return M}));var r=n(0),a=n.n(r),o=n(690),l=n(949),c=n(118),i=n(3),u=n.n(i),s=n(6),d=n.n(s),f=n(7),m=n.n(f),p=n(936),b=n(414),g=n(413);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=n(64),j=n(40),O=n(8),E=n(1),w=n(179),x=function(e){var t=Object(w.default)(),n=Object(r.useState)(window.innerHeight+1),o=d()(n,2),l=o[0],c=o[1];return Object(r.useEffect)((function(){if(t&&"web"==O.default.OS){var e=function(e){c(window.innerHeight+1)};return j.default.addEventListener("change",e),function(){return j.default.removeEventListener("change",e)}}}),[t]),a.a.createElement(E.default,{style:{height:t&&"web"==O.default.OS?l:"100%"}},e.children)},S=n(47),k=n(54),C=n(51),P=new k.QueryClient;function M(){var e=function(){var e=r.useState(!1),t=d()(e,2),a=t[0],o=t[1];return r.useEffect((function(){m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g.preventAutoHideAsync(),e.next=4,m.a.awrap(b.loadAsync(y(y({},p.default.font),{},{"space-mono":n(929)})));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn(e.t0);case 9:return e.prev=9,o(!0),g.hideAsync(),e.finish(9);case 13:case"end":return e.stop()}}),null,null,[[0,6,9,13]],Promise)}),[]),a}(),t=Object(v.useInitColorScheme)();return e&&t?a.a.createElement(l.SafeAreaProvider,null,a.a.createElement(x,null,a.a.createElement(S.AuthProvider,null,a.a.createElement(k.QueryClientProvider,{client:P},a.a.createElement(C.IntlProvider,null,a.a.createElement(c.default,null),a.a.createElement(o.StatusBar,null)))))):null}},696:function(e,t,n){e.exports=n(930)},70:function(e,t,n){"use strict";n.r(t),n.d(t,"ResizeContextProvider",(function(){return m})),n.d(t,"default",(function(){return p}));var r=n(6),a=n.n(r),o=n(0),l=n.n(o),c=n(40),i=n(146),u=n(323),s=n.n(u),d=function(e){return e.height>=e.width?"portrait":"landscape"},f=Object(o.createContext)(d(c.default.get("window"))),m=function(e){var t=e.children,n=s()(),r=Object(i.default)(),c=r.width,u=r.height,m=Object(o.useState)(d({width:c,height:u})),p=a()(m,2),b=p[0],g=p[1];return Object(o.useEffect)((function(){g(d({width:c,height:u}))}),[c,u]),l.a.createElement(f.Provider,{value:n.isMobile()?"portrait":b},t)};function p(){return Object(o.useContext)(f)}},710:function(e,t){},727:function(e){e.exports=JSON.parse('{"Sign in":"\ub85c\uadf8\uc778","Sign in as guest":"\uac8c\uc2a4\ud2b8\ub85c \ub85c\uadf8\uc778","home":"\ud648","chat":"\ucc44\ud305","channel":"\ucc44\ub110","New chat":"\uc0c8\ub85c\uc6b4 \ucc44\ud305","invite":"\ucd08\ub300","profile":"\ud504\ub85c\ud544","member":"\uba64\ubc84","Username":"\uc0ac\uc6a9\uc790\uba85","Password":"\ube44\ubc00\ubc88\ud638","Name":"\uba64\ubc84\uba85","Group":"\uadf8\ub8f9","External members":"\uc678\ubd80 \uc0ac\uc6a9\uc790","+ New chat":"+ \uc0c8\ub85c\uc6b4 \ucc44\ud305","save":"\uc800\uc7a5","cancel":"\ucde8\uc18c","Channel Name":"\ucc44\ub110\uba85","Description":"\uc124\uba85","1:1 Chat":"1:1 \ucc44\ud305","sign out":"\ub85c\uadf8\uc544\uc6c3","leave":"\ub098\uac00\uae30","This screen doesn\'t exist.":"\ud398\uc774\uc9c0\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","Go to home screen!":"\ub3cc\uc544\uac00\uae30","create":"\ucd94\uac00\ud558\uae30","invite link":"\ucd08\ub300 \ub9c1\ud06c","copied":"\ubcf5\uc0ac \uc644\ub8cc","Unregistered user or incorrect password.":"\uac00\uc785\ud558\uc9c0 \uc54a\uc740 \uc544\uc774\ub514\uc774\uac70\ub098, \uc798\ubabb\ub41c \ube44\ubc00\ubc88\ud638\uc785\ub2c8\ub2e4.","Guest users cannot reconnect after logging out. Please create an account or log in.":"\uac8c\uc2a4\ud2b8 \uc0ac\uc6a9\uc790\ub294 \ub85c\uadf8\uc544\uc6c3 \ud6c4 \ub2e4\uc2dc \uc811\uc18d\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","* Language Settings":"* \uc5b8\uc5b4 \uc124\uc815","* Skin Settings":"* \uc2a4\ud0a8 \uc124\uc815","Auto":"\uc790\ub3d9","Light":"\ub77c\uc774\ud2b8","Dark":"\ub2e4\ud06c","Upload File":"\ud30c\uc77c \uc5c5\ub85c\ub4dc","Timer Message":"\ud0c0\uc774\uba38 \uba54\uc2dc\uc9c0","Video Call":"\ud654\uc0c1 \ucc44\ud305","Date & Time":"\ub0a0\uc9dc & \uc2dc\uac04"}')},775:function(e,t,n){var r={"./af":447,"./af.js":447,"./ar":448,"./ar-dz":449,"./ar-dz.js":449,"./ar-kw":450,"./ar-kw.js":450,"./ar-ly":451,"./ar-ly.js":451,"./ar-ma":452,"./ar-ma.js":452,"./ar-sa":453,"./ar-sa.js":453,"./ar-tn":454,"./ar-tn.js":454,"./ar.js":448,"./az":455,"./az.js":455,"./be":456,"./be.js":456,"./bg":457,"./bg.js":457,"./bm":458,"./bm.js":458,"./bn":459,"./bn-bd":460,"./bn-bd.js":460,"./bn.js":459,"./bo":461,"./bo.js":461,"./br":462,"./br.js":462,"./bs":463,"./bs.js":463,"./ca":464,"./ca.js":464,"./cs":465,"./cs.js":465,"./cv":466,"./cv.js":466,"./cy":467,"./cy.js":467,"./da":468,"./da.js":468,"./de":469,"./de-at":470,"./de-at.js":470,"./de-ch":471,"./de-ch.js":471,"./de.js":469,"./dv":472,"./dv.js":472,"./el":473,"./el.js":473,"./en-au":474,"./en-au.js":474,"./en-ca":475,"./en-ca.js":475,"./en-gb":476,"./en-gb.js":476,"./en-ie":477,"./en-ie.js":477,"./en-il":478,"./en-il.js":478,"./en-in":479,"./en-in.js":479,"./en-nz":480,"./en-nz.js":480,"./en-sg":481,"./en-sg.js":481,"./eo":482,"./eo.js":482,"./es":483,"./es-do":484,"./es-do.js":484,"./es-mx":485,"./es-mx.js":485,"./es-us":486,"./es-us.js":486,"./es.js":483,"./et":487,"./et.js":487,"./eu":488,"./eu.js":488,"./fa":489,"./fa.js":489,"./fi":490,"./fi.js":490,"./fil":491,"./fil.js":491,"./fo":492,"./fo.js":492,"./fr":493,"./fr-ca":494,"./fr-ca.js":494,"./fr-ch":495,"./fr-ch.js":495,"./fr.js":493,"./fy":496,"./fy.js":496,"./ga":497,"./ga.js":497,"./gd":498,"./gd.js":498,"./gl":499,"./gl.js":499,"./gom-deva":500,"./gom-deva.js":500,"./gom-latn":501,"./gom-latn.js":501,"./gu":502,"./gu.js":502,"./he":503,"./he.js":503,"./hi":504,"./hi.js":504,"./hr":505,"./hr.js":505,"./hu":506,"./hu.js":506,"./hy-am":507,"./hy-am.js":507,"./id":508,"./id.js":508,"./is":509,"./is.js":509,"./it":510,"./it-ch":511,"./it-ch.js":511,"./it.js":510,"./ja":512,"./ja.js":512,"./jv":513,"./jv.js":513,"./ka":514,"./ka.js":514,"./kk":515,"./kk.js":515,"./km":516,"./km.js":516,"./kn":517,"./kn.js":517,"./ko":518,"./ko.js":518,"./ku":519,"./ku.js":519,"./ky":520,"./ky.js":520,"./lb":521,"./lb.js":521,"./lo":522,"./lo.js":522,"./lt":523,"./lt.js":523,"./lv":524,"./lv.js":524,"./me":525,"./me.js":525,"./mi":526,"./mi.js":526,"./mk":527,"./mk.js":527,"./ml":528,"./ml.js":528,"./mn":529,"./mn.js":529,"./mr":530,"./mr.js":530,"./ms":531,"./ms-my":532,"./ms-my.js":532,"./ms.js":531,"./mt":533,"./mt.js":533,"./my":534,"./my.js":534,"./nb":535,"./nb.js":535,"./ne":536,"./ne.js":536,"./nl":537,"./nl-be":538,"./nl-be.js":538,"./nl.js":537,"./nn":539,"./nn.js":539,"./oc-lnc":540,"./oc-lnc.js":540,"./pa-in":541,"./pa-in.js":541,"./pl":542,"./pl.js":542,"./pt":543,"./pt-br":544,"./pt-br.js":544,"./pt.js":543,"./ro":545,"./ro.js":545,"./ru":546,"./ru.js":546,"./sd":547,"./sd.js":547,"./se":548,"./se.js":548,"./si":549,"./si.js":549,"./sk":550,"./sk.js":550,"./sl":551,"./sl.js":551,"./sq":552,"./sq.js":552,"./sr":553,"./sr-cyrl":554,"./sr-cyrl.js":554,"./sr.js":553,"./ss":555,"./ss.js":555,"./sv":556,"./sv.js":556,"./sw":557,"./sw.js":557,"./ta":558,"./ta.js":558,"./te":559,"./te.js":559,"./tet":560,"./tet.js":560,"./tg":561,"./tg.js":561,"./th":562,"./th.js":562,"./tk":563,"./tk.js":563,"./tl-ph":564,"./tl-ph.js":564,"./tlh":565,"./tlh.js":565,"./tr":566,"./tr.js":566,"./tzl":567,"./tzl.js":567,"./tzm":568,"./tzm-latn":569,"./tzm-latn.js":569,"./tzm.js":568,"./ug-cn":570,"./ug-cn.js":570,"./uk":571,"./uk.js":571,"./ur":572,"./ur.js":572,"./uz":573,"./uz-latn":574,"./uz-latn.js":574,"./uz.js":573,"./vi":575,"./vi.js":575,"./x-pseudo":576,"./x-pseudo.js":576,"./yo":577,"./yo.js":577,"./zh-cn":578,"./zh-cn.js":578,"./zh-hk":579,"./zh-hk.js":579,"./zh-mo":580,"./zh-mo.js":580,"./zh-tw":581,"./zh-tw.js":581};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=775},922:function(e,t,n){firebaseConfig={authDomain:"virtual-metrics-355712.firebaseapp.com",projectId:"virtual-metrics-355712",storageBucket:"virtual-metrics-355712.appspot.com",messagingSenderId:"76003576924",appId:"1:76003576924:web:c8c8a006d07918bbc02a99",measurementId:"G-SEL35L4N5R"},e.exports=firebaseConfig},929:function(e,t,n){e.exports=n.p+"./fonts/SpaceMono-Regular.ttf"}},[[696,1,2]]]);
//# sourceMappingURL=app.f8a3c278.chunk.js.map